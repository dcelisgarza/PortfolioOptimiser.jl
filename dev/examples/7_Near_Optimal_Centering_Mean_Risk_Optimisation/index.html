<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Example 7: Near Optimal Centering (NOC) Mean Risk Optimisation · PortfolioOptimiser.jl</title><meta name="title" content="Example 7: Near Optimal Centering (NOC) Mean Risk Optimisation · PortfolioOptimiser.jl"/><meta property="og:title" content="Example 7: Near Optimal Centering (NOC) Mean Risk Optimisation · PortfolioOptimiser.jl"/><meta property="twitter:title" content="Example 7: Near Optimal Centering (NOC) Mean Risk Optimisation · PortfolioOptimiser.jl"/><meta name="description" content="Documentation for PortfolioOptimiser.jl."/><meta property="og:description" content="Documentation for PortfolioOptimiser.jl."/><meta property="twitter:description" content="Documentation for PortfolioOptimiser.jl."/><meta property="og:url" content="https://dcelisgarza.github.io/PortfolioOptimiser.jl/examples/7_Near_Optimal_Centering_Mean_Risk_Optimisation/"/><meta property="twitter:url" content="https://dcelisgarza.github.io/PortfolioOptimiser.jl/examples/7_Near_Optimal_Centering_Mean_Risk_Optimisation/"/><link rel="canonical" href="https://dcelisgarza.github.io/PortfolioOptimiser.jl/examples/7_Near_Optimal_Centering_Mean_Risk_Optimisation/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="PortfolioOptimiser.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PortfolioOptimiser.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../1_Mean_Risk_Optimisation/">Example 1: Mean Risk Optimisation</a></li><li><a class="tocitem" href="../2_Mean_Risk_Optimisation_Linear_Asset_Weight_Constraints/">Example 2: Mean Risk Optimisation with Linear Asset Weight Constraints</a></li><li><a class="tocitem" href="../3_Mean_Risk_Optimisation_Factor_Models/">Example 3: Mean Risk Optimisation with Factor Models</a></li><li><a class="tocitem" href="../4_Mean_Risk_Optimisation_Factor_Models_Linear_Factor_Constraints/">Example 4: Mean Risk Optimisation with Factor Models with Linear Factor Constraints</a></li><li><a class="tocitem" href="../5_Black_Litterman_Mean_Risk_Optimisation/">Example 5: Black Litterman Mean Risk Optimisation</a></li><li><a class="tocitem" href="../6_Black_Litterman_Factors_Mean_Risk_Optimisation/">Example 6: Black Litterman Factors Mean Risk Optimisation</a></li><li class="is-active"><a class="tocitem" href>Example 7: Near Optimal Centering (NOC) Mean Risk Optimisation</a><ul class="internal"><li><a class="tocitem" href="#1.-Download-data."><span>1. Download data.</span></a></li><li><a class="tocitem" href="#2.-Estimating-NOC-Mean-Risk-Portfolios"><span>2. Estimating NOC Mean Risk Portfolios</span></a></li></ul></li><li><a class="tocitem" href="../risk_measure_examples/">Risk Measures</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../../Solvers/">Solvers</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Risk</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-2-1" type="checkbox"/><label class="tocitem" for="menuitem-3-2-1"><span class="docs-label">Measures</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-2-1-1" type="checkbox"/><label class="tocitem" for="menuitem-3-2-1-1"><span class="docs-label">Util</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../RiskMeasures/RiskMeasures1-1/">Generalities</a></li><li><a class="tocitem" href="../../RiskMeasures/RiskMeasures1-2/">Specifics</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2-1-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2-1-2"><span class="docs-label">RiskMeasure</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../RiskMeasures/RiskMeasures2-1/">Dispersion</a></li><li><a class="tocitem" href="../../RiskMeasures/RiskMeasures2-2/">Downside dispersion</a></li><li><a class="tocitem" href="../../RiskMeasures/RiskMeasures2-3/">Downside</a></li><li><a class="tocitem" href="../../RiskMeasures/RiskMeasures2-4/">Drawdown</a></li><li><a class="tocitem" href="../../RiskMeasures/RiskMeasures2-5/">Linear moments</a></li><li><a class="tocitem" href="../../RiskMeasures/RiskMeasures2-6/">Tracking and Turnover</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2-1-3" type="checkbox"/><label class="tocitem" for="menuitem-3-2-1-3"><span class="docs-label">HCRiskMeasure</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../RiskMeasures/RiskMeasures3-1/">Dispersion</a></li><li><a class="tocitem" href="../../RiskMeasures/RiskMeasures3-2/">Downside dispersion</a></li><li><a class="tocitem" href="../../RiskMeasures/RiskMeasures3-3/">Downside</a></li><li><a class="tocitem" href="../../RiskMeasures/RiskMeasures3-4/">Drawdown</a></li><li><a class="tocitem" href="../../RiskMeasures/RiskMeasures3-5/">Equal Risk Contribution</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2-1-4" type="checkbox"/><label class="tocitem" for="menuitem-3-2-1-4"><span class="docs-label">NoOptRiskMeasure</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../RiskMeasures/RiskMeasures4-1/">Dispersion</a></li></ul></li></ul></li><li><a class="tocitem" href="../../RiskMeasures/RiskValue/">Risk value</a></li><li><a class="tocitem" href="../../RiskMeasures/RiskStatistics/">Risk statistics</a></li><li><a class="tocitem" href="../../RiskMeasures/MiscRiskMeasureFunctions/">Miscelaneous Functions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Parameter Estimation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ParameterEstimation/PosdefFix/">Fixing non-positive definite matrices</a></li><li><a class="tocitem" href="../../ParameterEstimation/MatrixDenoising/">Matrix denoising</a></li><li><a class="tocitem" href="../../ParameterEstimation/DetoneMatrix/">Detone matrix</a></li><li><a class="tocitem" href="../../ParameterEstimation/LoGoMatrix/">Detone matrix</a></li><li><a class="tocitem" href="../../ParameterEstimation/DistanceMatrices/">Distance matrices</a></li><li><a class="tocitem" href="../../ParameterEstimation/Clustering/">Clustering</a></li><li><a class="tocitem" href="../../ParameterEstimation/CovCorKurtSkew/">Covariance, correlation, cokurtosis and coskewness</a></li><li><a class="tocitem" href="../../ParameterEstimation/MeanEstimators/">Expected returns</a></li><li><a class="tocitem" href="../../ParameterEstimation/WorstCase/">Worst case mean variance sets</a></li><li><a class="tocitem" href="../../ParameterEstimation/Regression/">Regression</a></li><li><a class="tocitem" href="../../ParameterEstimation/BlackLitterman/">Black Litterman models</a></li><li><a class="tocitem" href="../../ParameterEstimation/OWA/">Ordered Weight Arrays</a></li><li><a class="tocitem" href="../../ParameterEstimation/ParameterEstimationMisc/">Miscelaneous</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Constraints</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Constraints/WeightConstraints/">Weight constraints</a></li><li><a class="tocitem" href="../../Constraints/ViewsConstraints/">Views constraints</a></li><li><a class="tocitem" href="../../Constraints/NetworkConstraints/">Network constraints</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">(HC)Portfolio</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Portfolio/PortfolioTypes/">Types</a></li><li><a class="tocitem" href="../../Portfolio/PortfolioStatistics/">Statistics</a></li><li><a class="tocitem" href="../../Portfolio/PortfolioRisk/">Risk</a></li><li><a class="tocitem" href="../../Portfolio/PortfolioClustering/">Clustering</a></li><li><a class="tocitem" href="../../Portfolio/PortfolioNetwork/">Network</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-6" type="checkbox"/><label class="tocitem" for="menuitem-3-6"><span class="docs-label">Optimisation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Optimisation/OptimisationKinds/">Optimisation kinds</a></li><li><a class="tocitem" href="../../Optimisation/ObjectiveFunctions/">Objective functions</a></li><li><a class="tocitem" href="../../Optimisation/PortfolioClasses/">Portfolio classes</a></li><li><a class="tocitem" href="../../Optimisation/AssetAllocation/">Asset allocation</a></li><li><a class="tocitem" href="../../Optimisation/OptimisationConstraints/">Constraints</a></li><li><a class="tocitem" href="../../Optimisation/OptimisationSetup/">Setup functions</a></li><li><a class="tocitem" href="../../Optimisation/OptimisationRiskMeasures/">Risk measures</a></li><li><a class="tocitem" href="../../Optimisation/OptimisationGetZ/">Entropic and relativistic moments</a></li><li><a class="tocitem" href="../../Optimisation/OptimisationFinalisation/">Finalisation functions</a></li></ul></li><li><a class="tocitem" href="../../PlotsExtension/">Plots Extension</a></li><li><a class="tocitem" href="../../References/">References</a></li><li><a class="tocitem" href="../../Contents/">Index</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Example 7: Near Optimal Centering (NOC) Mean Risk Optimisation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Example 7: Near Optimal Centering (NOC) Mean Risk Optimisation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/main/examples/7_Near_Optimal_Centering_Mean_Risk_Optimisation.jl#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><p>The source files for all examples can be found in <a href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/tree/main/examples/">/examples</a>.</p><h1 id="Example-7:-Near-Optimal-Centering-(NOC)-Mean-Risk-Optimisation"><a class="docs-heading-anchor" href="#Example-7:-Near-Optimal-Centering-(NOC)-Mean-Risk-Optimisation">Example 7: Near Optimal Centering (NOC) Mean Risk Optimisation</a><a id="Example-7:-Near-Optimal-Centering-(NOC)-Mean-Risk-Optimisation-1"></a><a class="docs-heading-anchor-permalink" href="#Example-7:-Near-Optimal-Centering-(NOC)-Mean-Risk-Optimisation" title="Permalink"></a></h1><h2 id="1.-Download-data."><a class="docs-heading-anchor" href="#1.-Download-data.">1. Download data.</a><a id="1.-Download-data.-1"></a><a class="docs-heading-anchor-permalink" href="#1.-Download-data." title="Permalink"></a></h2><pre><code class="language-julia hljs">using PortfolioOptimiser, TimeSeries, DataFrames, PrettyTables, Clarabel, HiGHS, YFinance,
      GraphRecipes, StatsPlots, JuMP

# Format for pretty tables.
fmt1 = (v, i, j) -&gt; begin
    if j == 1
        return Date(v)
    else
        return v
    end
end;
fmt2 = (v, i, j) -&gt; begin
    if j == 1
        return v
    else
        return isa(v, Number) ? &quot;$(round(v*100, digits=3)) %&quot; : v
    end
end;

# Convert prices to time array.
function stock_price_to_time_array(x)
    # Only get the keys that are not ticker or datetime.
    coln = collect(keys(x))[3:end]
    # Convert the dictionary into a matrix.
    m = hcat([x[k] for k ∈ coln]...)
    return TimeArray(x[&quot;timestamp&quot;], m, Symbol.(coln), x[&quot;ticker&quot;])
end

# Asset tickers.
assets = sort!([&quot;AAPL&quot;, &quot;ADI&quot;, &quot;ADP&quot;, &quot;AMGN&quot;, &quot;AMZN&quot;, &quot;BKNG&quot;, &quot;CMCSA&quot;, &quot;COST&quot;, &quot;CSCO&quot;,
                &quot;GILD&quot;, &quot;GOOG&quot;, &quot;GOOGL&quot;, &quot;HON&quot;, &quot;ISRG&quot;, &quot;LIN&quot;, &quot;MAR&quot;, &quot;META&quot;, &quot;MRK&quot;, &quot;MSFT&quot;,
                &quot;NFLX&quot;, &quot;NVDA&quot;, &quot;ORLY&quot;, &quot;PANW&quot;, &quot;QCOM&quot;, &quot;SBUX&quot;, &quot;T&quot;, &quot;TMUS&quot;, &quot;TSLA&quot;, &quot;TXN&quot;,
                &quot;VRTX&quot;])

# Prices date range.
Date_0 = &quot;2019-01-01&quot;
Date_1 = &quot;2025-01-31&quot;

# Download the price data using YFinance.
prices = get_prices.(assets; startdt = Date_0, enddt = Date_1)
prices = stock_price_to_time_array.(prices)
prices = hcat(prices...)
cidx = colnames(prices)[occursin.(r&quot;adj&quot;, string.(colnames(prices)))]
prices = prices[cidx]
TimeSeries.rename!(prices, Symbol.(assets))
pretty_table(prices[1:5]; formatters = fmt1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">┌────────────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┐
│<span class="sgr1">      timestamp </span>│<span class="sgr1">    AAPL </span>│<span class="sgr1">     ADI </span>│<span class="sgr1">     ADP </span>│<span class="sgr1">    AMGN </span>│<span class="sgr1">    AMZN </span>│<span class="sgr1">    BKNG </span>│<span class="sgr1">   CMCSA </span>│<span class="sgr1">    COST </span>│<span class="sgr1">    CSCO </span>│<span class="sgr1">    GILD </span>│<span class="sgr1">    GOOG </span>│<span class="sgr1">   GOOGL </span>│<span class="sgr1">     HON </span>│<span class="sgr1">    ISRG </span>│<span class="sgr1">     LIN </span>│<span class="sgr1">     MAR </span>│<span class="sgr1">    META </span>│<span class="sgr1">     MRK </span>│<span class="sgr1">    MSFT </span>│<span class="sgr1">    NFLX </span>│<span class="sgr1">    NVDA </span>│<span class="sgr1">    ORLY </span>│<span class="sgr1">    PANW </span>│<span class="sgr1">    QCOM </span>│<span class="sgr1">    SBUX </span>│<span class="sgr1">       T </span>│<span class="sgr1">    TMUS </span>│<span class="sgr1">    TSLA </span>│<span class="sgr1">     TXN </span>│<span class="sgr1">    VRTX </span>│
│<span class="sgr90"> Dates.DateTime </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│
├────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│     2019-01-02 │ 37.6672 │  76.502 │ 114.096 │ 158.586 │ 76.9565 │ 1703.08 │ 29.3779 │ 186.145 │ 35.2656 │ 49.4591 │  52.046 │ 52.4831 │ 115.883 │ 155.343 │ 142.983 │ 102.526 │ 135.044 │  59.732 │ 95.1198 │  267.66 │ 3.37778 │  341.15 │  30.535 │ 49.2806 │ 56.4324 │ 13.7452 │ 63.8184 │ 20.6747 │ 79.3542 │  164.08 │
│     2019-01-03 │ 33.9152 │ 71.8809 │ 110.651 │ 156.173 │  75.014 │ 1645.13 │ 29.6086 │ 182.199 │ 33.9831 │ 50.8702 │ 50.5635 │ 51.0295 │ 114.336 │  150.08 │ 138.517 │ 97.0689 │ 131.122 │ 58.5072 │ 91.6205 │   271.2 │  3.1737 │  346.13 │   29.95 │ 47.8211 │ 53.9846 │ 13.7638 │ 63.5837 │  20.024 │ 74.6745 │  163.73 │
│     2019-01-04 │ 35.3631 │  73.626 │ 115.061 │ 161.512 │ 78.7695 │ 1698.97 │ 30.6087 │  187.49 │ 35.5139 │ 53.2091 │ 53.2831 │  53.647 │ 118.336 │ 157.227 │ 142.465 │  102.86 │ 137.303 │ 60.2694 │ 95.8818 │  297.57 │ 3.37704 │  341.82 │ 30.7317 │ 48.5938 │ 55.7744 │ 14.1174 │ 65.9992 │ 21.1793 │  78.052 │   172.7 │
│     2019-01-07 │ 35.2844 │ 74.0891 │ 114.438 │ 163.685 │ 81.4755 │ 1693.31 │ 30.2839 │ 188.181 │ 35.7538 │ 53.4507 │ 53.1677 │   53.54 │ 118.995 │  159.48 │ 142.338 │ 103.051 │ 137.402 │ 59.6056 │  96.004 │  315.34 │ 3.55582 │  339.69 │  31.225 │ 48.4564 │ 55.7744 │ 14.3734 │ 66.9282 │ 22.3307 │ 79.3962 │  175.85 │
│     2019-01-08 │  35.957 │ 75.8965 │ 115.113 │ 165.784 │  82.829 │ 1668.68 │ 30.5318 │  189.59 │ 36.0434 │ 53.0843 │ 53.5603 │ 54.0103 │ 118.749 │ 160.997 │ 143.847 │ 104.721 │ 141.861 │ 60.0481 │ 96.7001 │  320.27 │ 3.46729 │  336.07 │ 31.7383 │ 48.0357 │ 55.8182 │ 14.5548 │  66.273 │ 22.3567 │ 79.2954 │  178.19 │
└────────────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘</code></pre><h2 id="2.-Estimating-NOC-Mean-Risk-Portfolios"><a class="docs-heading-anchor" href="#2.-Estimating-NOC-Mean-Risk-Portfolios">2. Estimating NOC Mean Risk Portfolios</a><a id="2.-Estimating-NOC-Mean-Risk-Portfolios-1"></a><a class="docs-heading-anchor-permalink" href="#2.-Estimating-NOC-Mean-Risk-Portfolios" title="Permalink"></a></h2><h3 id="2.1.-Optimising-portfolio"><a class="docs-heading-anchor" href="#2.1.-Optimising-portfolio">2.1. Optimising portfolio</a><a id="2.1.-Optimising-portfolio-1"></a><a class="docs-heading-anchor-permalink" href="#2.1.-Optimising-portfolio" title="Permalink"></a></h3><p>This is a simple example so we will only use default parameters for computing the statistics.</p><p>NOC optimisations are only compatible with optimisations whose risk measures are <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#AffExpr"><code>AffExpr</code></a> because <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#QuadExpr"><code>QuadExpr</code></a> are not strictly convex.</p><p>For API details and options available see: <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Solvers/#PortfolioOptimiser.PortOptSolver"><code>PortOptSolver</code></a>, <a href="../../ParameterEstimation/MeanEstimators/#PortfolioOptimiser.MeanEstimator"><code>PortfolioOptimiser.MeanEstimator</code></a>, <a href="../../ParameterEstimation/CovCorKurtSkew/#PortfolioOptimiser.PortfolioOptimiserCovCor"><code>PortfolioOptimiser.PortfolioOptimiserCovCor</code></a>, <a href="../../Portfolio/PortfolioStatistics/#PortfolioOptimiser.asset_statistics!-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>asset_statistics!</code></a>, <a href="../../RiskMeasures/RiskMeasures1-1/#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="../../Optimisation/ObjectiveFunctions/#PortfolioOptimiser.ObjectiveFunction"><code>PortfolioOptimiser.ObjectiveFunction</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.OptimType"><code>PortfolioOptimiser.OptimType</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.NOC"><code>NOC</code></a>.</p><pre><code class="language-julia hljs"># Creating the portfolio object. Internally computes the returns if you give a prices TimeArray.
port = Portfolio(; prices = prices,
                 # Continuous solvers.
                 solvers = PortOptSolver(; name = :Clarabel, solver = Clarabel.Optimizer,
                                         check_sol = (allow_local = true,
                                                      allow_almost = true),
                                         params = Dict(&quot;verbose&quot; =&gt; false,
                                                       &quot;max_step_fraction&quot; =&gt; 0.65)),
                 # Discrete solvers (for discrete allocation).
                 alloc_solvers = PortOptSolver(; name = :HiGHS,
                                               solver = optimizer_with_attributes(HiGHS.Optimizer,
                                                                                  MOI.Silent() =&gt; true)))

# Compute relevant statistics.
# Expected returns and covariance estimation methods.
mu_type = MuSimple()
cov_type = PortCovCor()

# Only compute `mu` and `cov`.
asset_statistics!(port; mu_type = mu_type, cov_type = cov_type, set_kurt = false,
                  set_skurt = false, set_skew = false, set_sskew = false)</code></pre><p>The Near Optimal Centering (NOC) formulation has the curious property that maximising the risk-adjusted ratio will not, in fact, maximise the risk-adjusted ratio. It finds the analytical centre of the neighbourhood around a point on the efficient frontier, which in this case is the point which maximises the risk-adjusted return ratio. This makes it possible to create near-optimal portfolios with higher risk-adjusted return ratios. Such portfolios are not the centre of the analytic region of the portfolio with the highest risk-adjusted return ratio, they are the centre of a different analytic region around a different point of the efficient frontier. It&#39;s possible that such points can have higher risk-adjusted return ratios.</p><p>In fact, the NOC portfolio which maximises the risk-adjusted return ratio, is the point of minimum risk of a region of the NOC efficient frontier with relatively high risk-adjusted returns.</p><p>By defining larger analytic regions (using fewer <code>bins</code>), the more portfolios will exist with greater risk-adjusted return ratios than the canonical NOC maximum risk-adjusted return ratio portfolio.</p><ul><li><code>bins → ∞</code>: the NOC portfolio converges to the optimal portfolio.</li><li><code>bins → 0</code>: the NOC portfolio converges to the equal weight portfolio.</li></ul><p>You can verify for yourself by changing the value of <code>bins</code> above and re-running the script. Note how the maximum risk-adjusted return portfolio migrates further down the NOC frontier as <code>bins</code> decreases, and how there are more portfolios with higher risk-adjusted return rations.</p><pre><code class="language-julia hljs"># Creating the optimisation object.
rm = SD() # Risk measure.
obj = Sharpe() # Objective function. Can be `MinRisk()`, `Utility()`, `Sharpe()`, `MaxRet()`.
bins = 20 ## Number of bins for defining the analytic region.
# `NOC` optimisation corresponds to the near optimal mean risk optimisation.
type = NOC(; rm = rm, obj = obj, bins = bins)

# Optimise portfolio.
w1 = optimise!(port, type)
pretty_table(w1; formatters = fmt2)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">┌─────────┬──────────┐
│<span class="sgr1"> tickers </span>│<span class="sgr1">  weights </span>│
│<span class="sgr90">  String </span>│<span class="sgr90">  Float64 </span>│
├─────────┼──────────┤
│    AAPL │  3.193 % │
│     ADI │  1.408 % │
│     ADP │  2.071 % │
│    AMGN │  2.184 % │
│    AMZN │  1.661 % │
│    BKNG │  1.945 % │
│   CMCSA │  1.308 % │
│    COST │  7.514 % │
│    CSCO │  1.525 % │
│    GILD │  3.054 % │
│    GOOG │  2.045 % │
│   GOOGL │  2.001 % │
│     HON │  1.779 % │
│    ISRG │   1.95 % │
│     LIN │  2.611 % │
│     MAR │  2.242 % │
│    META │  2.467 % │
│     MRK │  2.556 % │
│    MSFT │  2.063 % │
│    NFLX │  2.195 % │
│    NVDA │ 18.893 % │
│    ORLY │  5.234 % │
│    PANW │   4.38 % │
│    QCOM │  1.532 % │
│    SBUX │   1.54 % │
│       T │  2.594 % │
│    TMUS │  4.198 % │
│    TSLA │  9.774 % │
│     TXN │  1.368 % │
│    VRTX │  2.714 % │
└─────────┴──────────┘</code></pre><h3 id="2.2.-Plotting-portfolio-composition."><a class="docs-heading-anchor" href="#2.2.-Plotting-portfolio-composition.">2.2. Plotting portfolio composition.</a><a id="2.2.-Plotting-portfolio-composition.-1"></a><a class="docs-heading-anchor-permalink" href="#2.2.-Plotting-portfolio-composition." title="Permalink"></a></h3><pre><code class="language-julia hljs">plot_bar(port, :NOC)</code></pre><img src="b0d57db4.svg" alt="Example block output"/><h3 id="2.3.-Efficient-frontier"><a class="docs-heading-anchor" href="#2.3.-Efficient-frontier">2.3. Efficient frontier</a><a id="2.3.-Efficient-frontier-1"></a><a class="docs-heading-anchor-permalink" href="#2.3.-Efficient-frontier" title="Permalink"></a></h3><pre><code class="language-julia hljs">points = 50
frontier = efficient_frontier!(port, type; points = points)
pretty_table(frontier[:weights]; formatters = fmt2)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">┌─────────┬──────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬─────────┬──────────┬─────────┬──────────┬──────────┬──────────┬──────────┬──────────┐
│<span class="sgr1"> tickers </span>│<span class="sgr1">        1 </span>│<span class="sgr1">       2 </span>│<span class="sgr1">       3 </span>│<span class="sgr1">       4 </span>│<span class="sgr1">       5 </span>│<span class="sgr1">       6 </span>│<span class="sgr1">       7 </span>│<span class="sgr1">        8 </span>│<span class="sgr1">        9 </span>│<span class="sgr1">       10 </span>│<span class="sgr1">       11 </span>│<span class="sgr1">       12 </span>│<span class="sgr1">       13 </span>│<span class="sgr1">       14 </span>│<span class="sgr1">       15 </span>│<span class="sgr1">       16 </span>│<span class="sgr1">       17 </span>│<span class="sgr1">       18 </span>│<span class="sgr1">       19 </span>│<span class="sgr1">       20 </span>│<span class="sgr1">       21 </span>│<span class="sgr1">       22 </span>│<span class="sgr1">       23 </span>│<span class="sgr1">       24 </span>│<span class="sgr1">       25 </span>│<span class="sgr1">       26 </span>│<span class="sgr1">       27 </span>│<span class="sgr1">       28 </span>│<span class="sgr1">       29 </span>│<span class="sgr1">       30 </span>│<span class="sgr1">       31 </span>│<span class="sgr1">       32 </span>│<span class="sgr1">       33 </span>│<span class="sgr1">       34 </span>│<span class="sgr1">       35 </span>│<span class="sgr1">       36 </span>│<span class="sgr1">       37 </span>│<span class="sgr1">       38 </span>│<span class="sgr1">       39 </span>│<span class="sgr1">       40 </span>│<span class="sgr1">       41 </span>│<span class="sgr1">       42 </span>│<span class="sgr1">       43 </span>│<span class="sgr1">      44 </span>│<span class="sgr1">       45 </span>│<span class="sgr1">      46 </span>│<span class="sgr1">       47 </span>│<span class="sgr1">       48 </span>│<span class="sgr1">       49 </span>│<span class="sgr1">       50 </span>│<span class="sgr1">       51 </span>│
│<span class="sgr90">  String </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90"> Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│
├─────────┼──────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼─────────┼──────────┼─────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
│    AAPL │  1.848 % │ 2.354 % │ 2.774 % │ 3.038 % │ 3.182 % │ 3.257 % │ 3.289 % │  3.295 % │  3.282 % │  3.255 % │  3.216 % │  3.169 % │  3.116 % │  3.058 % │  2.991 % │  2.918 % │   2.84 % │  2.755 % │  2.663 % │  2.564 % │  2.459 % │   2.35 % │  2.237 % │  2.124 % │  2.013 % │  1.904 % │  1.799 % │  1.697 % │  1.599 % │  1.505 % │  1.414 % │  1.326 % │   1.24 % │  1.155 % │  1.073 % │  0.992 % │  0.912 % │  0.834 % │  0.757 % │  0.681 % │  0.606 % │  0.532 % │  0.459 % │ 0.386 % │  0.316 % │ 0.288 % │  0.271 % │  0.258 % │  0.246 % │  0.236 % │  3.193 % │
│     ADI │  1.533 % │ 1.707 % │ 1.733 % │ 1.703 % │  1.66 % │ 1.615 % │ 1.573 % │  1.533 % │  1.495 % │  1.459 % │  1.424 % │  1.394 % │  1.367 % │  1.343 % │  1.322 % │  1.304 % │   1.29 % │  1.279 % │  1.271 % │  1.264 % │  1.258 % │   1.25 % │  1.239 % │  1.224 % │  1.203 % │  1.176 % │  1.144 % │  1.106 % │  1.064 % │  1.019 % │  0.971 % │  0.922 % │   0.87 % │  0.818 % │  0.765 % │  0.711 % │  0.657 % │  0.603 % │   0.55 % │  0.496 % │  0.443 % │   0.39 % │  0.337 % │ 0.284 % │  0.233 % │ 0.213 % │  0.201 % │  0.192 % │  0.183 % │  0.176 % │  1.408 % │
│     ADP │  2.402 % │ 2.614 % │ 2.614 % │ 2.548 % │ 2.476 % │ 2.408 % │ 2.343 % │   2.28 % │  2.219 % │  2.159 % │    2.1 % │  2.043 % │   1.99 % │  1.938 % │  1.887 % │  1.837 % │  1.788 % │  1.739 % │  1.689 % │  1.638 % │  1.584 % │  1.528 % │   1.47 % │  1.409 % │  1.347 % │  1.284 % │  1.222 % │  1.159 % │  1.098 % │  1.038 % │  0.978 % │  0.919 % │  0.861 % │  0.803 % │  0.747 % │  0.692 % │  0.637 % │  0.582 % │  0.529 % │  0.476 % │  0.424 % │  0.372 % │  0.321 % │  0.27 % │  0.221 % │ 0.202 % │   0.19 % │  0.181 % │  0.173 % │  0.166 % │  2.071 % │
│    AMGN │  4.909 % │ 4.447 % │ 3.877 % │  3.45 % │  3.15 % │ 2.925 % │ 2.744 % │  2.593 % │   2.46 % │  2.342 % │  2.235 % │  2.137 % │  2.048 % │  1.966 % │  1.888 % │  1.814 % │  1.744 % │  1.676 % │   1.61 % │  1.545 % │   1.48 % │  1.415 % │   1.35 % │  1.286 % │  1.222 % │   1.16 % │  1.099 % │   1.04 % │  0.983 % │  0.926 % │  0.872 % │  0.818 % │  0.766 % │  0.714 % │  0.664 % │  0.614 % │  0.565 % │  0.517 % │  0.469 % │  0.422 % │  0.376 % │   0.33 % │  0.284 % │ 0.239 % │  0.196 % │ 0.179 % │  0.169 % │   0.16 % │  0.153 % │  0.147 % │  2.184 % │
│    AMZN │  2.162 % │ 2.259 % │ 2.217 % │  2.13 % │ 2.045 % │ 1.969 % │ 1.901 % │  1.841 % │  1.785 % │  1.733 % │  1.683 % │   1.64 % │  1.601 % │  1.566 % │  1.534 % │  1.506 % │  1.482 % │   1.46 % │  1.442 % │  1.424 % │  1.405 % │  1.385 % │  1.362 % │  1.334 % │  1.301 % │  1.264 % │  1.222 % │  1.176 % │  1.126 % │  1.074 % │  1.021 % │  0.966 % │   0.91 % │  0.853 % │  0.797 % │   0.74 % │  0.684 % │  0.627 % │   0.57 % │  0.514 % │  0.459 % │  0.404 % │  0.349 % │ 0.294 % │  0.241 % │  0.22 % │  0.208 % │  0.198 % │  0.189 % │  0.181 % │  1.661 % │
│    BKNG │   2.01 % │ 2.232 % │ 2.302 % │ 2.293 % │ 2.257 % │ 2.211 % │ 2.163 % │  2.115 % │  2.066 % │  2.017 % │  1.969 % │  1.923 % │  1.879 % │  1.839 % │  1.798 % │  1.759 % │  1.722 % │  1.686 % │  1.651 % │  1.614 % │  1.575 % │  1.533 % │  1.488 % │  1.439 % │  1.387 % │  1.332 % │  1.274 % │  1.216 % │  1.155 % │  1.096 % │  1.035 % │  0.975 % │  0.915 % │  0.856 % │  0.797 % │  0.739 % │  0.681 % │  0.623 % │  0.566 % │   0.51 % │  0.454 % │  0.399 % │  0.344 % │  0.29 % │  0.238 % │ 0.217 % │  0.205 % │  0.195 % │  0.186 % │  0.178 % │  1.945 % │
│   CMCSA │   2.94 % │ 2.537 % │ 2.149 % │ 1.906 % │ 1.753 % │ 1.644 % │ 1.561 % │  1.492 % │  1.433 % │   1.38 % │  1.331 % │  1.289 % │  1.252 % │  1.218 % │  1.188 % │  1.161 % │  1.137 % │  1.116 % │  1.097 % │  1.078 % │   1.06 % │   1.04 % │  1.018 % │  0.994 % │  0.966 % │  0.935 % │  0.901 % │  0.864 % │  0.826 % │  0.786 % │  0.746 % │  0.705 % │  0.663 % │  0.621 % │   0.58 % │  0.538 % │  0.496 % │  0.455 % │  0.414 % │  0.373 % │  0.332 % │  0.292 % │  0.252 % │ 0.213 % │  0.174 % │ 0.159 % │   0.15 % │  0.143 % │  0.137 % │  0.131 % │  1.308 % │
│    COST │  6.921 % │ 7.884 % │ 9.158 % │ 9.819 % │ 9.944 % │  9.78 % │  9.47 % │  9.081 % │  8.653 % │  8.205 % │  7.752 % │  7.274 % │   6.78 % │  6.281 % │  5.789 % │  5.303 % │  4.824 % │  4.363 % │  3.929 % │  3.528 % │  3.166 % │  2.845 % │  2.564 % │  2.321 % │  2.112 % │  1.934 % │  1.779 % │  1.643 % │  1.523 % │  1.414 % │  1.314 % │  1.221 % │  1.134 % │   1.05 % │  0.971 % │  0.894 % │  0.819 % │  0.747 % │  0.676 % │  0.607 % │  0.539 % │  0.472 % │  0.407 % │ 0.342 % │  0.279 % │ 0.254 % │  0.239 % │  0.227 % │  0.217 % │  0.208 % │  7.514 % │
│    CSCO │  2.652 % │  2.55 % │ 2.315 % │ 2.126 % │ 1.989 % │ 1.886 % │ 1.801 % │  1.728 % │  1.663 % │  1.605 % │  1.551 % │  1.503 % │  1.459 % │   1.42 % │  1.384 % │  1.352 % │  1.322 % │  1.295 % │   1.27 % │  1.245 % │   1.22 % │  1.193 % │  1.163 % │  1.131 % │  1.095 % │  1.057 % │  1.016 % │  0.973 % │  0.928 % │  0.882 % │  0.835 % │  0.788 % │  0.741 % │  0.694 % │  0.647 % │    0.6 % │  0.553 % │  0.507 % │  0.461 % │  0.415 % │   0.37 % │  0.325 % │  0.281 % │ 0.237 % │  0.194 % │ 0.177 % │  0.167 % │  0.159 % │  0.152 % │  0.146 % │  1.525 % │
│    GILD │  9.684 % │ 8.029 % │ 6.662 % │ 5.693 % │ 5.028 % │ 4.541 % │  4.16 % │  3.848 % │  3.583 % │  3.353 % │  3.149 % │  2.965 % │  2.796 % │  2.639 % │  2.493 % │  2.354 % │  2.222 % │  2.096 % │  1.974 % │  1.857 % │  1.743 % │  1.635 % │  1.532 % │  1.436 % │  1.346 % │  1.262 % │  1.184 % │  1.112 % │  1.043 % │  0.978 % │  0.917 % │  0.858 % │    0.8 % │  0.745 % │  0.691 % │  0.638 % │  0.586 % │  0.535 % │  0.485 % │  0.436 % │  0.388 % │   0.34 % │  0.293 % │ 0.247 % │  0.202 % │ 0.184 % │  0.174 % │  0.165 % │  0.157 % │  0.151 % │  3.054 % │
│    GOOG │  1.965 % │ 2.228 % │ 2.343 % │ 2.362 % │  2.34 % │ 2.302 % │ 2.258 % │  2.212 % │  2.165 % │  2.117 % │  2.069 % │  2.024 % │   1.98 % │   1.94 % │  1.899 % │  1.861 % │  1.825 % │   1.79 % │  1.755 % │  1.719 % │  1.681 % │   1.64 % │  1.594 % │  1.545 % │  1.491 % │  1.434 % │  1.374 % │  1.312 % │  1.249 % │  1.186 % │  1.121 % │  1.057 % │  0.993 % │  0.929 % │  0.865 % │  0.802 % │  0.739 % │  0.677 % │  0.615 % │  0.554 % │  0.494 % │  0.434 % │  0.375 % │ 0.316 % │  0.258 % │ 0.236 % │  0.223 % │  0.212 % │  0.203 % │  0.194 % │  2.045 % │
│   GOOGL │  1.941 % │ 2.196 % │ 2.303 % │ 2.317 % │ 2.292 % │ 2.254 % │  2.21 % │  2.165 % │  2.119 % │  2.071 % │  2.024 % │  1.979 % │  1.938 % │  1.898 % │   1.86 % │  1.824 % │  1.789 % │  1.757 % │  1.724 % │   1.69 % │  1.654 % │  1.615 % │  1.572 % │  1.525 % │  1.474 % │  1.419 % │   1.36 % │    1.3 % │  1.238 % │  1.175 % │  1.112 % │  1.048 % │  0.985 % │  0.922 % │  0.859 % │  0.796 % │  0.734 % │  0.672 % │  0.611 % │  0.551 % │  0.491 % │  0.431 % │  0.372 % │ 0.314 % │  0.257 % │ 0.235 % │  0.222 % │  0.211 % │  0.201 % │  0.193 % │  2.001 % │
│     HON │  2.995 % │ 2.886 % │ 2.649 % │ 2.451 % │ 2.305 % │ 2.191 % │ 2.097 % │  2.014 % │   1.94 % │  1.873 % │  1.809 % │  1.751 % │  1.698 % │  1.649 % │  1.602 % │  1.559 % │  1.518 % │  1.479 % │   1.44 % │  1.401 % │  1.362 % │   1.32 % │  1.277 % │  1.231 % │  1.183 % │  1.133 % │  1.083 % │  1.031 % │   0.98 % │  0.928 % │  0.876 % │  0.825 % │  0.774 % │  0.723 % │  0.673 % │  0.623 % │  0.574 % │  0.526 % │  0.478 % │   0.43 % │  0.383 % │  0.336 % │   0.29 % │ 0.245 % │    0.2 % │ 0.183 % │  0.173 % │  0.164 % │  0.157 % │   0.15 % │  1.779 % │
│    ISRG │  1.593 % │ 1.897 % │  2.05 % │ 2.105 % │ 2.115 % │ 2.107 % │ 2.087 % │  2.062 % │  2.033 % │  2.001 % │  1.967 % │  1.934 % │  1.903 % │  1.872 % │  1.842 % │  1.813 % │  1.785 % │  1.758 % │   1.73 % │    1.7 % │  1.668 % │  1.632 % │  1.591 % │  1.544 % │  1.493 % │  1.439 % │   1.38 % │  1.319 % │  1.257 % │  1.193 % │  1.129 % │  1.064 % │    1.0 % │  0.936 % │  0.872 % │  0.808 % │  0.745 % │  0.683 % │  0.621 % │  0.559 % │  0.498 % │  0.438 % │  0.378 % │ 0.319 % │  0.261 % │ 0.238 % │  0.225 % │  0.214 % │  0.204 % │  0.196 % │   1.95 % │
│     LIN │  3.237 % │ 3.484 % │ 3.518 % │ 3.432 % │ 3.315 % │ 3.195 % │ 3.078 % │  2.967 % │   2.86 % │  2.758 % │  2.659 % │  2.565 % │  2.475 % │  2.388 % │  2.303 % │  2.219 % │  2.137 % │  2.054 % │  1.972 % │  1.889 % │  1.805 % │  1.721 % │  1.636 % │  1.553 % │  1.472 % │  1.393 % │  1.317 % │  1.243 % │  1.172 % │  1.104 % │  1.037 % │  0.972 % │  0.909 % │  0.848 % │  0.787 % │  0.728 % │   0.67 % │  0.612 % │  0.556 % │    0.5 % │  0.445 % │   0.39 % │  0.337 % │ 0.283 % │  0.232 % │ 0.212 % │  0.199 % │   0.19 % │  0.181 % │  0.173 % │  2.611 % │
│     MAR │  2.392 % │ 2.614 % │  2.69 % │ 2.675 % │ 2.628 % │ 2.571 % │ 2.512 % │  2.452 % │  2.392 % │  2.332 % │  2.272 % │  2.213 % │  2.157 % │  2.103 % │  2.049 % │  1.996 % │  1.944 % │  1.892 % │  1.838 % │  1.784 % │  1.727 % │  1.667 % │  1.604 % │  1.539 % │  1.473 % │  1.405 % │  1.337 % │   1.27 % │  1.203 % │  1.137 % │  1.072 % │  1.007 % │  0.944 % │  0.881 % │   0.82 % │  0.758 % │  0.698 % │  0.639 % │   0.58 % │  0.522 % │  0.465 % │  0.408 % │  0.352 % │ 0.297 % │  0.243 % │ 0.222 % │  0.209 % │  0.199 % │   0.19 % │  0.182 % │  2.242 % │
│    META │  1.533 % │   1.9 % │ 2.179 % │ 2.347 % │ 2.439 % │ 2.487 % │ 2.509 % │  2.516 % │  2.512 % │  2.498 % │  2.478 % │  2.455 % │   2.43 % │  2.403 % │  2.373 % │  2.342 % │  2.309 % │  2.274 % │  2.235 % │  2.192 % │  2.144 % │  2.089 % │  2.028 % │   1.96 % │  1.888 % │   1.81 % │   1.73 % │  1.649 % │  1.566 % │  1.484 % │  1.401 % │  1.319 % │  1.238 % │  1.157 % │  1.077 % │  0.998 % │  0.919 % │  0.842 % │  0.765 % │  0.689 % │  0.614 % │  0.539 % │  0.465 % │ 0.392 % │  0.321 % │ 0.293 % │  0.276 % │  0.263 % │  0.251 % │   0.24 % │  2.467 % │
│     MRK │ 12.974 % │ 8.969 % │ 6.488 % │ 5.162 % │ 4.397 % │ 3.893 % │ 3.525 % │   3.24 % │  3.005 % │  2.807 % │  2.635 % │  2.483 % │  2.347 % │  2.223 % │  2.109 % │  2.002 % │  1.902 % │  1.807 % │  1.715 % │  1.627 % │  1.541 % │  1.458 % │  1.378 % │  1.301 % │  1.228 % │  1.158 % │  1.092 % │  1.029 % │  0.969 % │  0.911 % │  0.855 % │  0.801 % │  0.749 % │  0.697 % │  0.647 % │  0.599 % │   0.55 % │  0.503 % │  0.456 % │   0.41 % │  0.365 % │   0.32 % │  0.276 % │ 0.232 % │   0.19 % │ 0.174 % │  0.164 % │  0.156 % │  0.149 % │  0.142 % │  2.556 % │
│    MSFT │  1.843 % │ 2.153 % │ 2.305 % │ 2.347 % │ 2.337 % │ 2.306 % │ 2.267 % │  2.224 % │  2.179 % │  2.132 % │  2.086 % │  2.042 % │  1.999 % │   1.96 % │  1.921 % │  1.884 % │  1.849 % │  1.816 % │  1.782 % │  1.748 % │   1.71 % │   1.67 % │  1.626 % │  1.576 % │  1.523 % │  1.466 % │  1.406 % │  1.343 % │  1.279 % │  1.215 % │  1.149 % │  1.083 % │  1.018 % │  0.953 % │  0.888 % │  0.823 % │  0.759 % │  0.695 % │  0.632 % │  0.569 % │  0.507 % │  0.446 % │  0.385 % │ 0.324 % │  0.266 % │ 0.243 % │  0.229 % │  0.218 % │  0.208 % │    0.2 % │  2.063 % │
│    NFLX │  2.036 % │ 2.332 % │ 2.491 % │ 2.531 % │ 2.515 % │ 2.476 % │ 2.429 % │  2.378 % │  2.326 % │  2.273 % │   2.22 % │   2.17 % │  2.124 % │  2.079 % │  2.036 % │  1.996 % │  1.958 % │  1.922 % │  1.885 % │  1.849 % │   1.81 % │  1.768 % │  1.722 % │  1.671 % │  1.616 % │  1.556 % │  1.493 % │  1.428 % │  1.361 % │  1.292 % │  1.223 % │  1.154 % │  1.085 % │  1.015 % │  0.946 % │  0.877 % │  0.809 % │  0.741 % │  0.674 % │  0.608 % │  0.541 % │  0.476 % │  0.411 % │ 0.346 % │  0.284 % │ 0.259 % │  0.244 % │  0.233 % │  0.222 % │  0.213 % │  2.195 % │
│    NVDA │  1.044 % │ 1.664 % │ 2.745 % │ 4.298 % │ 6.146 % │ 8.122 % │ 10.13 % │ 12.126 % │ 14.096 % │ 16.037 % │ 17.946 % │ 19.812 % │ 21.639 % │ 23.432 % │ 25.195 % │  26.93 % │ 28.635 % │ 30.313 % │ 31.972 % │ 33.615 % │ 35.249 % │  36.88 % │ 38.514 % │ 40.159 % │ 41.822 % │ 43.512 % │ 45.235 % │ 46.998 % │ 48.808 % │ 50.672 % │ 52.596 % │ 54.583 % │ 56.641 % │ 58.772 % │ 60.982 % │ 63.272 % │ 65.644 % │ 68.102 % │ 70.643 % │ 73.266 % │  75.97 % │ 78.748 % │ 81.595 % │  84.5 % │ 87.396 % │ 88.85 % │ 89.754 % │ 90.425 % │ 90.964 % │ 91.421 % │ 18.893 % │
│    ORLY │  5.087 % │ 5.702 % │ 6.214 % │  6.42 % │ 6.427 % │ 6.334 % │ 6.185 % │  6.002 % │  5.799 % │  5.581 % │  5.354 % │  5.112 % │  4.855 % │  4.589 % │  4.317 % │  4.038 % │  3.754 % │  3.468 % │  3.188 % │  2.918 % │  2.665 % │   2.43 % │  2.218 % │  2.029 % │  1.862 % │  1.716 % │  1.586 % │  1.471 % │  1.367 % │  1.272 % │  1.184 % │  1.102 % │  1.024 % │   0.95 % │  0.879 % │   0.81 % │  0.742 % │  0.677 % │  0.613 % │   0.55 % │  0.489 % │  0.428 % │  0.369 % │  0.31 % │  0.253 % │ 0.231 % │  0.217 % │  0.206 % │  0.197 % │  0.189 % │  5.234 % │
│    PANW │  2.575 % │ 3.195 % │ 3.801 % │ 4.194 % │ 4.404 % │ 4.507 % │ 4.548 % │   4.55 % │  4.525 % │  4.479 % │  4.416 % │  4.339 % │  4.249 % │  4.145 % │  4.029 % │  3.899 % │  3.755 % │  3.598 % │  3.429 % │   3.25 % │  3.064 % │  2.877 % │  2.694 % │  2.517 % │  2.352 % │  2.197 % │  2.054 % │  1.922 % │  1.799 % │  1.684 % │  1.575 % │   1.47 % │  1.371 % │  1.275 % │  1.181 % │   1.09 % │  1.001 % │  0.914 % │  0.829 % │  0.745 % │  0.663 % │  0.581 % │  0.501 % │ 0.421 % │  0.344 % │ 0.314 % │  0.295 % │  0.281 % │  0.268 % │  0.256 % │   4.38 % │
│    QCOM │  1.453 % │ 1.673 % │ 1.761 % │  1.77 % │  1.75 % │ 1.719 % │ 1.685 % │   1.65 % │  1.615 % │  1.581 % │  1.548 % │  1.518 % │  1.493 % │  1.469 % │   1.45 % │  1.433 % │  1.421 % │  1.412 % │  1.406 % │  1.402 % │  1.397 % │  1.392 % │  1.383 % │   1.37 % │   1.35 % │  1.323 % │  1.289 % │  1.249 % │  1.203 % │  1.154 % │  1.101 % │  1.045 % │  0.988 % │  0.929 % │  0.869 % │  0.809 % │  0.748 % │  0.687 % │  0.626 % │  0.565 % │  0.505 % │  0.444 % │  0.384 % │ 0.324 % │  0.266 % │ 0.243 % │   0.23 % │  0.219 % │   0.21 % │  0.201 % │  1.532 % │
│    SBUX │  2.141 % │ 2.196 % │ 2.096 % │ 1.985 % │ 1.897 % │ 1.824 % │ 1.761 % │  1.706 % │  1.654 % │  1.607 % │  1.561 % │   1.52 % │  1.483 % │   1.45 % │  1.418 % │   1.39 % │  1.364 % │  1.341 % │  1.318 % │  1.296 % │  1.273 % │  1.248 % │   1.22 % │  1.189 % │  1.154 % │  1.115 % │  1.073 % │  1.028 % │  0.982 % │  0.933 % │  0.884 % │  0.835 % │  0.785 % │  0.736 % │  0.686 % │  0.636 % │  0.587 % │  0.538 % │  0.489 % │  0.441 % │  0.393 % │  0.345 % │  0.298 % │ 0.251 % │  0.206 % │ 0.188 % │  0.178 % │  0.169 % │  0.162 % │  0.155 % │   1.54 % │
│       T │  7.601 % │ 6.147 % │ 5.063 % │ 4.374 % │ 3.926 % │ 3.605 % │ 3.355 % │  3.145 % │  2.966 % │  2.806 % │  2.662 % │  2.531 % │  2.409 % │  2.295 % │  2.188 % │  2.084 % │  1.985 % │  1.889 % │  1.794 % │  1.702 % │  1.611 % │  1.522 % │  1.436 % │  1.353 % │  1.275 % │  1.201 % │   1.13 % │  1.063 % │    1.0 % │   0.94 % │  0.881 % │  0.825 % │  0.771 % │  0.718 % │  0.666 % │  0.615 % │  0.566 % │  0.517 % │  0.469 % │  0.421 % │  0.375 % │  0.329 % │  0.284 % │ 0.239 % │  0.195 % │ 0.178 % │  0.168 % │   0.16 % │  0.152 % │  0.146 % │  2.594 % │
│    TMUS │  4.479 % │ 4.949 % │ 5.263 % │ 5.332 % │ 5.266 % │ 5.139 % │ 4.987 % │  4.819 % │  4.645 % │  4.469 % │   4.29 % │  4.106 % │   3.92 % │  3.731 % │   3.54 % │  3.347 % │  3.151 % │  2.954 % │  2.757 % │  2.565 % │  2.378 % │  2.202 % │  2.036 % │  1.885 % │  1.748 % │  1.623 % │  1.511 % │  1.409 % │  1.315 % │  1.228 % │  1.146 % │  1.069 % │  0.995 % │  0.924 % │  0.856 % │  0.789 % │  0.725 % │  0.661 % │  0.599 % │  0.538 % │  0.478 % │  0.419 % │  0.361 % │ 0.304 % │  0.248 % │ 0.226 % │  0.213 % │  0.202 % │  0.193 % │  0.185 % │  4.198 % │
│    TSLA │  1.203 % │ 1.863 % │ 2.851 % │ 3.935 % │ 4.928 % │ 5.814 % │ 6.623 % │  7.376 % │  8.092 % │   8.78 % │  9.445 % │ 10.091 % │ 10.721 % │ 11.337 % │  11.94 % │ 12.532 % │ 13.112 % │ 13.679 % │ 14.231 % │ 14.768 % │ 15.283 % │ 15.772 % │ 16.228 % │  16.64 % │   17.0 % │   17.3 % │ 17.529 % │  17.68 % │  17.75 % │ 17.732 % │ 17.624 % │ 17.423 % │ 17.124 % │ 16.729 % │  16.23 % │ 15.631 % │ 14.928 % │ 14.121 % │  13.21 % │ 12.197 % │ 11.087 % │  9.884 % │  8.597 % │ 7.239 % │  5.844 % │ 4.975 % │  4.423 % │  4.036 % │  3.745 % │  3.512 % │  9.774 % │
│     TXN │  1.726 % │ 1.848 % │ 1.812 % │ 1.739 % │ 1.671 % │ 1.611 % │ 1.557 % │  1.509 % │  1.465 % │  1.424 % │  1.385 % │  1.351 % │  1.321 % │  1.295 % │  1.272 % │  1.251 % │  1.235 % │  1.222 % │  1.211 % │  1.201 % │  1.192 % │  1.181 % │  1.168 % │   1.15 % │  1.128 % │  1.101 % │  1.068 % │  1.031 % │  0.991 % │  0.948 % │  0.902 % │  0.855 % │  0.807 % │  0.758 % │  0.708 % │  0.659 % │  0.609 % │  0.558 % │  0.509 % │  0.459 % │  0.409 % │   0.36 % │  0.311 % │ 0.263 % │  0.215 % │ 0.197 % │  0.186 % │  0.177 % │  0.169 % │  0.162 % │  1.368 % │
│    VRTX │  3.122 % │ 3.489 % │ 3.579 % │ 3.521 % │ 3.418 % │ 3.305 % │ 3.191 % │   3.08 % │  2.972 % │  2.867 % │  2.764 % │  2.665 % │  2.569 % │  2.476 % │  2.383 % │  2.292 % │  2.202 % │  2.111 % │   2.02 % │  1.928 % │  1.835 % │  1.743 % │  1.651 % │  1.562 % │  1.475 % │  1.392 % │  1.313 % │  1.237 % │  1.165 % │  1.095 % │  1.028 % │  0.963 % │    0.9 % │  0.839 % │  0.778 % │   0.72 % │  0.661 % │  0.604 % │  0.548 % │  0.493 % │  0.439 % │  0.385 % │  0.332 % │ 0.279 % │  0.228 % │ 0.209 % │  0.197 % │  0.187 % │  0.178 % │  0.171 % │  2.714 % │
└─────────┴──────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴─────────┴──────────┴─────────┴──────────┴──────────┴──────────┴──────────┴──────────┘</code></pre><p>Plot frontier.</p><pre><code class="language-julia hljs">plot_frontier(port, :NOC; rm = rm)</code></pre><img src="4ead495b.svg" alt="Example block output"/><p>Plot frontier area.</p><pre><code class="language-julia hljs">plot_frontier_area(port, :NOC; rm = rm, kwargs_a = (; legendfontsize = 7))</code></pre><img src="28fbf371.svg" alt="Example block output"/><p>We want to see how the canonical maximum risk-adjusted return ratio portfolio stacks up against other portfolios with greater risk-adjusted return ratios. We can do so using the <code>frontier</code> variable.</p><p>Frist, we check if the frontier contains the portfolio which maximises the risk-adjusted return ratio (the optimisation can fail in <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.efficient_frontier!"><code>efficient_frontier!</code></a> so we should always check if it succeeded), there is a flag <code>:sharpe</code> which is <code>true</code> if the optimisation succeeded. The maximum risk-adjusted ratio optimisation is performed last, so its statistics and weights will correspond to the last ones in their respective containers.</p><p>We will display them at the start to make it easier to see the behaviour described in <a href="#2.1.-Optimising-portfolio">2.1</a>. We annualise the risk, return, and risk-adjusted return ratio to make comparisons easier.</p><pre><code class="language-julia hljs"># Check if the maximum risk-adjusted return ratio optimisation succeeded
if frontier[:sharpe]
    # Optimisations can fail in [`efficient_frontier!`](@ref) so we need to find out how many actually succeeded.
    N = length(frontier[:sharpes])
    # Find all points in the efficient frontier with an actual sharpe ratio higher than the canonical one.
    idx = findall(frontier[:sharpes] .&gt; frontier[:sharpes][end])
    # Add the index of the max risk-adjusted return ratio portfolio at the start.
    idx = [N; idx]
    # Display the anualised returns and risks of the canonical max risk-adjusted return ratio portfolio (the first in the table) as well as all others whose ratios are greater. The first row contains the canonical portfolio.
    pretty_table(DataFrame(:idx =&gt; idx, :rets =&gt; frontier[:rets][idx] * 252,
                           :risks =&gt; frontier[:risks][idx] * sqrt(252),
                           :sharpes =&gt; frontier[:sharpes][idx] * sqrt(252));
                 formatters = fmt2)
    # Display their weights. The first column displays the canonical portfolio.
    pretty_table(frontier[:weights][!, [1; (idx .+ 1)]]; formatters = fmt2)
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">┌───────┬──────────┬──────────┬───────────┐
│<span class="sgr1">   idx </span>│<span class="sgr1">     rets </span>│<span class="sgr1">    risks </span>│<span class="sgr1">   sharpes </span>│
│<span class="sgr90"> Int64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">   Float64 </span>│
├───────┼──────────┼──────────┼───────────┤
│    51 │ 37.884 % │ 25.334 % │ 149.539 % │
│    12 │ 38.495 % │ 25.701 % │ 149.782 % │
│    13 │ 39.702 % │ 26.442 % │ 150.152 % │
│    14 │ 40.877 % │ 27.181 % │ 150.388 % │
│    15 │ 42.024 % │ 27.919 % │ 150.521 % │
│    16 │ 43.145 % │ 28.655 % │ 150.567 % │
│    17 │  44.24 % │ 29.388 % │ 150.536 % │
│    18 │ 45.311 % │ 30.117 % │ 150.449 % │
│    19 │ 46.363 % │ 30.842 % │ 150.327 % │
│    20 │ 47.398 % │  31.56 % │ 150.184 % │
│    21 │ 48.419 % │ 32.272 % │ 150.034 % │
│    22 │ 49.426 % │ 32.975 % │ 149.889 % │
│    23 │ 50.421 % │ 33.668 % │ 149.758 % │
│    24 │ 51.403 % │  34.35 % │ 149.645 % │
│    25 │ 52.373 % │  35.02 % │ 149.552 % │
└───────┴──────────┴──────────┴───────────┘
┌─────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┐
│<span class="sgr1"> tickers </span>│<span class="sgr1">       51 </span>│<span class="sgr1">       12 </span>│<span class="sgr1">       13 </span>│<span class="sgr1">       14 </span>│<span class="sgr1">       15 </span>│<span class="sgr1">       16 </span>│<span class="sgr1">       17 </span>│<span class="sgr1">       18 </span>│<span class="sgr1">       19 </span>│<span class="sgr1">       20 </span>│<span class="sgr1">       21 </span>│<span class="sgr1">       22 </span>│<span class="sgr1">       23 </span>│<span class="sgr1">       24 </span>│<span class="sgr1">       25 </span>│
│<span class="sgr90">  String </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│<span class="sgr90">  Float64 </span>│
├─────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
│    AAPL │  3.193 % │  3.169 % │  3.116 % │  3.058 % │  2.991 % │  2.918 % │   2.84 % │  2.755 % │  2.663 % │  2.564 % │  2.459 % │   2.35 % │  2.237 % │  2.124 % │  2.013 % │
│     ADI │  1.408 % │  1.394 % │  1.367 % │  1.343 % │  1.322 % │  1.304 % │   1.29 % │  1.279 % │  1.271 % │  1.264 % │  1.258 % │   1.25 % │  1.239 % │  1.224 % │  1.203 % │
│     ADP │  2.071 % │  2.043 % │   1.99 % │  1.938 % │  1.887 % │  1.837 % │  1.788 % │  1.739 % │  1.689 % │  1.638 % │  1.584 % │  1.528 % │   1.47 % │  1.409 % │  1.347 % │
│    AMGN │  2.184 % │  2.137 % │  2.048 % │  1.966 % │  1.888 % │  1.814 % │  1.744 % │  1.676 % │   1.61 % │  1.545 % │   1.48 % │  1.415 % │   1.35 % │  1.286 % │  1.222 % │
│    AMZN │  1.661 % │   1.64 % │  1.601 % │  1.566 % │  1.534 % │  1.506 % │  1.482 % │   1.46 % │  1.442 % │  1.424 % │  1.405 % │  1.385 % │  1.362 % │  1.334 % │  1.301 % │
│    BKNG │  1.945 % │  1.923 % │  1.879 % │  1.839 % │  1.798 % │  1.759 % │  1.722 % │  1.686 % │  1.651 % │  1.614 % │  1.575 % │  1.533 % │  1.488 % │  1.439 % │  1.387 % │
│   CMCSA │  1.308 % │  1.289 % │  1.252 % │  1.218 % │  1.188 % │  1.161 % │  1.137 % │  1.116 % │  1.097 % │  1.078 % │   1.06 % │   1.04 % │  1.018 % │  0.994 % │  0.966 % │
│    COST │  7.514 % │  7.274 % │   6.78 % │  6.281 % │  5.789 % │  5.303 % │  4.824 % │  4.363 % │  3.929 % │  3.528 % │  3.166 % │  2.845 % │  2.564 % │  2.321 % │  2.112 % │
│    CSCO │  1.525 % │  1.503 % │  1.459 % │   1.42 % │  1.384 % │  1.352 % │  1.322 % │  1.295 % │   1.27 % │  1.245 % │   1.22 % │  1.193 % │  1.163 % │  1.131 % │  1.095 % │
│    GILD │  3.054 % │  2.965 % │  2.796 % │  2.639 % │  2.493 % │  2.354 % │  2.222 % │  2.096 % │  1.974 % │  1.857 % │  1.743 % │  1.635 % │  1.532 % │  1.436 % │  1.346 % │
│    GOOG │  2.045 % │  2.024 % │   1.98 % │   1.94 % │  1.899 % │  1.861 % │  1.825 % │   1.79 % │  1.755 % │  1.719 % │  1.681 % │   1.64 % │  1.594 % │  1.545 % │  1.491 % │
│   GOOGL │  2.001 % │  1.979 % │  1.938 % │  1.898 % │   1.86 % │  1.824 % │  1.789 % │  1.757 % │  1.724 % │   1.69 % │  1.654 % │  1.615 % │  1.572 % │  1.525 % │  1.474 % │
│     HON │  1.779 % │  1.751 % │  1.698 % │  1.649 % │  1.602 % │  1.559 % │  1.518 % │  1.479 % │   1.44 % │  1.401 % │  1.362 % │   1.32 % │  1.277 % │  1.231 % │  1.183 % │
│    ISRG │   1.95 % │  1.934 % │  1.903 % │  1.872 % │  1.842 % │  1.813 % │  1.785 % │  1.758 % │   1.73 % │    1.7 % │  1.668 % │  1.632 % │  1.591 % │  1.544 % │  1.493 % │
│     LIN │  2.611 % │  2.565 % │  2.475 % │  2.388 % │  2.303 % │  2.219 % │  2.137 % │  2.054 % │  1.972 % │  1.889 % │  1.805 % │  1.721 % │  1.636 % │  1.553 % │  1.472 % │
│     MAR │  2.242 % │  2.213 % │  2.157 % │  2.103 % │  2.049 % │  1.996 % │  1.944 % │  1.892 % │  1.838 % │  1.784 % │  1.727 % │  1.667 % │  1.604 % │  1.539 % │  1.473 % │
│    META │  2.467 % │  2.455 % │   2.43 % │  2.403 % │  2.373 % │  2.342 % │  2.309 % │  2.274 % │  2.235 % │  2.192 % │  2.144 % │  2.089 % │  2.028 % │   1.96 % │  1.888 % │
│     MRK │  2.556 % │  2.483 % │  2.347 % │  2.223 % │  2.109 % │  2.002 % │  1.902 % │  1.807 % │  1.715 % │  1.627 % │  1.541 % │  1.458 % │  1.378 % │  1.301 % │  1.228 % │
│    MSFT │  2.063 % │  2.042 % │  1.999 % │   1.96 % │  1.921 % │  1.884 % │  1.849 % │  1.816 % │  1.782 % │  1.748 % │   1.71 % │   1.67 % │  1.626 % │  1.576 % │  1.523 % │
│    NFLX │  2.195 % │   2.17 % │  2.124 % │  2.079 % │  2.036 % │  1.996 % │  1.958 % │  1.922 % │  1.885 % │  1.849 % │   1.81 % │  1.768 % │  1.722 % │  1.671 % │  1.616 % │
│    NVDA │ 18.893 % │ 19.812 % │ 21.639 % │ 23.432 % │ 25.195 % │  26.93 % │ 28.635 % │ 30.313 % │ 31.972 % │ 33.615 % │ 35.249 % │  36.88 % │ 38.514 % │ 40.159 % │ 41.822 % │
│    ORLY │  5.234 % │  5.112 % │  4.855 % │  4.589 % │  4.317 % │  4.038 % │  3.754 % │  3.468 % │  3.188 % │  2.918 % │  2.665 % │   2.43 % │  2.218 % │  2.029 % │  1.862 % │
│    PANW │   4.38 % │  4.339 % │  4.249 % │  4.145 % │  4.029 % │  3.899 % │  3.755 % │  3.598 % │  3.429 % │   3.25 % │  3.064 % │  2.877 % │  2.694 % │  2.517 % │  2.352 % │
│    QCOM │  1.532 % │  1.518 % │  1.493 % │  1.469 % │   1.45 % │  1.433 % │  1.421 % │  1.412 % │  1.406 % │  1.402 % │  1.397 % │  1.392 % │  1.383 % │   1.37 % │   1.35 % │
│    SBUX │   1.54 % │   1.52 % │  1.483 % │   1.45 % │  1.418 % │   1.39 % │  1.364 % │  1.341 % │  1.318 % │  1.296 % │  1.273 % │  1.248 % │   1.22 % │  1.189 % │  1.154 % │
│       T │  2.594 % │  2.531 % │  2.409 % │  2.295 % │  2.188 % │  2.084 % │  1.985 % │  1.889 % │  1.794 % │  1.702 % │  1.611 % │  1.522 % │  1.436 % │  1.353 % │  1.275 % │
│    TMUS │  4.198 % │  4.106 % │   3.92 % │  3.731 % │   3.54 % │  3.347 % │  3.151 % │  2.954 % │  2.757 % │  2.565 % │  2.378 % │  2.202 % │  2.036 % │  1.885 % │  1.748 % │
│    TSLA │  9.774 % │ 10.091 % │ 10.721 % │ 11.337 % │  11.94 % │ 12.532 % │ 13.112 % │ 13.679 % │ 14.231 % │ 14.768 % │ 15.283 % │ 15.772 % │ 16.228 % │  16.64 % │   17.0 % │
│     TXN │  1.368 % │  1.351 % │  1.321 % │  1.295 % │  1.272 % │  1.251 % │  1.235 % │  1.222 % │  1.211 % │  1.201 % │  1.192 % │  1.181 % │  1.168 % │   1.15 % │  1.128 % │
│    VRTX │  2.714 % │  2.665 % │  2.569 % │  2.476 % │  2.383 % │  2.292 % │  2.202 % │  2.111 % │   2.02 % │  1.928 % │  1.835 % │  1.743 % │  1.651 % │  1.562 % │  1.475 % │
└─────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┘</code></pre><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../6_Black_Litterman_Factors_Mean_Risk_Optimisation/">« Example 6: Black Litterman Factors Mean Risk Optimisation</a><a class="docs-footer-nextpage" href="../risk_measure_examples/">Risk Measures »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.2 on <span class="colophon-date" title="Monday 28 April 2025 14:32">Monday 28 April 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
