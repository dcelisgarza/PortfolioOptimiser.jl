<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Types · PortfolioOptimiser.jl</title><meta name="title" content="Types · PortfolioOptimiser.jl"/><meta property="og:title" content="Types · PortfolioOptimiser.jl"/><meta property="twitter:title" content="Types · PortfolioOptimiser.jl"/><meta name="description" content="Documentation for PortfolioOptimiser.jl."/><meta property="og:description" content="Documentation for PortfolioOptimiser.jl."/><meta property="twitter:description" content="Documentation for PortfolioOptimiser.jl."/><meta property="og:url" content="https://dcelisgarza.github.io/PortfolioOptimiser.jl/RiskMeasures/RiskMeasures/"/><meta property="twitter:url" content="https://dcelisgarza.github.io/PortfolioOptimiser.jl/RiskMeasures/RiskMeasures/"/><link rel="canonical" href="https://dcelisgarza.github.io/PortfolioOptimiser.jl/RiskMeasures/RiskMeasures/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="PortfolioOptimiser.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PortfolioOptimiser.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/0_not_financial_advice/">Example 0: Not financial advice</a></li><li><a class="tocitem" href="../../examples/1_basic_use/">Example 1: Basic use</a></li><li><a class="tocitem" href="../../examples/2_asset_statistics/">Example 2: Asset statistics</a></li><li><a class="tocitem" href="../../examples/3_shorting_portfolios/">Example 3: Shorting and leveraged portfolios</a></li><li><a class="tocitem" href="../../examples/4_hrp_portfolios/">Example 4: Hierarchical risk parity</a></li><li><a class="tocitem" href="../../examples/5_risk_parity_portfolios/">Example 5: Risk parity</a></li><li><a class="tocitem" href="../../examples/6_worst_case_mv_portfolios/">Example 6: Worst case Mean-Variance</a></li><li><a class="tocitem" href="../../examples/7_worst_case_statistics/">Example 7: Worst case statistics</a></li><li><a class="tocitem" href="../../examples/8_relaxed_risk_parity_variance_portfolios/">-</a></li></ul></li><li><span class="tocitem">API</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox" checked/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Risk Measures</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Types</a><ul class="internal"><li><a class="tocitem" href="#Specifying-solvers"><span>Specifying solvers</span></a></li><li><a class="tocitem" href="#Abstract-types"><span>Abstract types</span></a></li><li><a class="tocitem" href="#Settings"><span>Settings</span></a></li><li><a class="tocitem" href="#Risk-measures"><span>Risk measures</span></a></li><li><a class="tocitem" href="#Hierarchical-risk-measures"><span>Hierarchical risk measures</span></a></li></ul></li><li><a class="tocitem" href="../RiskValue/">Risk value</a></li><li><a class="tocitem" href="../RiskStatistics/">Risk statistics</a></li><li><a class="tocitem" href="../MiscRiskMeasureFunctions/">Miscelaneous Functions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Parameter Estimation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ParameterEstimation/PosdefFix/">Fixing non-positive definite matrices</a></li><li><a class="tocitem" href="../../ParameterEstimation/MatrixDenoising/">Matrix denoising</a></li><li><a class="tocitem" href="../../ParameterEstimation/DistanceMatrices/">Distance matrices</a></li><li><a class="tocitem" href="../../ParameterEstimation/Clustering/">Clustering</a></li><li><a class="tocitem" href="../../ParameterEstimation/CovCorKurtSkew/">Covariance, correlation, cokurtosis and coskewness</a></li><li><a class="tocitem" href="../../ParameterEstimation/MeanEstimators/">Expected returns</a></li><li><a class="tocitem" href="../../ParameterEstimation/WorstCase/">Worst case mean variance sets</a></li><li><a class="tocitem" href="../../ParameterEstimation/Regression/">Regression</a></li><li><a class="tocitem" href="../../ParameterEstimation/BlackLitterman/">Black Litterman models</a></li><li><a class="tocitem" href="../../ParameterEstimation/OWA/">Ordered Weight Arrays</a></li><li><a class="tocitem" href="../../ParameterEstimation/ParameterEstimationMisc/">Miscelaneous</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Constraints</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Constraints/WeightConstraints/">Weight constraints</a></li><li><a class="tocitem" href="../../Constraints/ViewsConstraints/">Views constraints</a></li><li><a class="tocitem" href="../../Constraints/NetworkConstraints/">Network constraints</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">(HC)Portfolio</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Portfolio/PortfolioTypes/">Types</a></li><li><a class="tocitem" href="../../Portfolio/PortfolioStatistics/">Statistics</a></li><li><a class="tocitem" href="../../Portfolio/PortfolioRisk/">Risk</a></li><li><a class="tocitem" href="../../Portfolio/PortfolioClustering/">Clustering</a></li><li><a class="tocitem" href="../../Portfolio/PortfolioNetwork/">Network</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Optimisation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Optimisation/OptimisationKinds/">Optimisation kinds</a></li><li><a class="tocitem" href="../../Optimisation/ObjectiveFunctions/">Objective functions</a></li><li><a class="tocitem" href="../../Optimisation/PortfolioClasses/">Portfolio classes</a></li><li><a class="tocitem" href="../../Optimisation/AssetAllocation/">Asset allocation</a></li><li><a class="tocitem" href="../../Optimisation/OptimisationConstraints/">Constraints</a></li><li><a class="tocitem" href="../../Optimisation/OptimisationSetup/">Setup functions</a></li><li><a class="tocitem" href="../../Optimisation/OptimisationRiskMeasures/">Risk measures</a></li><li><a class="tocitem" href="../../Optimisation/OptimisationGetZ/">Entropic and relativistic moments</a></li><li><a class="tocitem" href="../../Optimisation/OptimisationFinalisation/">Finalisation functions</a></li></ul></li><li><a class="tocitem" href="../../PlotsExtension/">Plots Extension</a></li><li><a class="tocitem" href="../../References/">References</a></li><li><a class="tocitem" href="../../Contents/">Index</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li><a class="is-disabled">Risk Measures</a></li><li class="is-active"><a href>Types</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Types</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/main/docs/src/RiskMeasures/RiskMeasures.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h1><h2 id="Specifying-solvers"><a class="docs-heading-anchor" href="#Specifying-solvers">Specifying solvers</a><a id="Specifying-solvers-1"></a><a class="docs-heading-anchor-permalink" href="#Specifying-solvers" title="Permalink"></a></h2><p>Some risk measures require solvers to compute the risk measure via <a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>. When using high level functions that take in an instance of <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a> as an argument, the solvers will be taken from it. However, it is possible to override them by directly providing the solvers to the risk measure instance.</p><p>The solvers can be specified by any container which implements the <a href="https://docs.julialang.org/en/v1/base/collections/#Base.AbstractDict"><code>AbstractDict</code></a> interfaces. This dictionary must contain the key-value pairs of any solvers one wishes to use. Where the key can be of any type, but the value must be a dictionary with the following key-value pairs.</p><ul><li><code>:solver</code>: defines the solver to use. One can also use <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#optimizer_with_attributes"><code>JuMP.optimizer_with_attributes</code></a> to direcly provide a solver with attributes already attached.</li><li><code>:check_sol</code>: (optional) defines the keyword arguments passed on to <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#is_solved_and_feasible"><code>JuMP.is_solved_and_feasible</code></a> for accepting/rejecting solutions.</li><li><code>:params</code>: (optional) defines solver-specific parameters.</li><li><code>:add_bridges</code>: (optional) value of the <code>add_bridges</code> kwarg of <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#Model"><code>JuMP.Model</code></a>, if not provided defaults to <code>true</code>.</li></ul><pre><code class="language-julia hljs">solvers = Dict(
               # Key-value pair for the solver, solution acceptance
               # criteria, model bridge argument, and solver attributes.
               :Clarabel =&gt; Dict(
                                 # Solver we wish to use.
                                 :solver =&gt; Clarabel.Optimizer,
                                 # (Optional) Solution acceptance criteria.
                                 :check_sol =&gt; (allow_local = true, allow_almost = true),
                                 # (Optional) Solver-specific attributes.
                                 :params =&gt; Dict(&quot;verbose&quot; =&gt; false),
                                 # (Optional) Flag for adding JuMP bridges to JuMP.Model()
                                 # defaults to true (https://jump.dev/JuMP.jl/stable/api/JuMP/#Model).
                                 :add_bridges =&gt; false))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dict{Symbol, Dict{Symbol, Any}} with 1 entry:
  :Clarabel =&gt; Dict(:solver=&gt;Optimizer, :params=&gt;Dict{String, Bool}(&quot;verbose&quot;=&gt;…</code></pre><p>Users are able to provide multiple solvers by adding additional key-value pairs to the top-level dictionary as in the following snippet.</p><pre><code class="language-julia hljs">solvers = Dict(:Clarabel_1 =&gt; Dict(:solver =&gt; Clarabel.Optimizer,
                                   :check_sol =&gt; (allow_local = true, allow_almost = true),
                                   :params =&gt; Dict(&quot;verbose&quot; =&gt; false)),
               # Provide solver with pre-attached attributes and no arguments
               # for the `JuMP.is_solved_and_feasible` function.
               :Clarabel_2 =&gt; Dict(:solver =&gt; JuMP.optimizer_with_attributes(Clarabel.Optimizer,
                                                                             &quot;max_step_fraction&quot; =&gt; 0.75),
                                   # Do not add JuMP bridges to JuMP.Model()
                                   :add_bridges =&gt; false))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dict{Symbol, Dict{Symbol, Any}} with 2 entries:
  :Clarabel_1 =&gt; Dict(:solver=&gt;Optimizer, :params=&gt;Dict{String, Bool}(&quot;verbose&quot;…
  :Clarabel_2 =&gt; Dict(:solver=&gt;OptimizerWithAttributes(Optimizer, Pair{Abstract…</code></pre><p><a href="https://github.com/dcelisgarza/PortfolioOptimiser.jl"><code>PortfolioOptimiser</code></a> will iterate over the solvers until it finds the first one to successfully solve the problem. If a deterministic ordering is desired (for example when going from relaxed to strict tolerances), use an <a href="https://juliacollections.github.io/OrderedCollections.jl/dev/ordered_containers/#OrderedDicts"><code>OrderedDict</code></a>.</p><h2 id="Abstract-types"><a class="docs-heading-anchor" href="#Abstract-types">Abstract types</a><a id="Abstract-types-1"></a><a class="docs-heading-anchor-permalink" href="#Abstract-types" title="Permalink"></a></h2><p><a href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/"><code>PortfolioOptimiser</code></a>&#39;s risk measures are implemented using Julia&#39;s type hierarchy. This makes it easy to add new ones by implementing relevant types and methods.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.AbstractRiskMeasure" href="#PortfolioOptimiser.AbstractRiskMeasure"><code>PortfolioOptimiser.AbstractRiskMeasure</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractRiskMeasure end</code></pre><p><strong>Description</strong></p><p>Serves as the foundational type for all risk measurement approaches in the library.</p><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.HCRiskMeasure"><code>HCRiskMeasure</code></a>.</p><p><strong>Type Hierarchy</strong></p><ul><li>Direct subtypes: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.HCRiskMeasure"><code>HCRiskMeasure</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.RiskMeasure" href="#PortfolioOptimiser.RiskMeasure"><code>PortfolioOptimiser.RiskMeasure</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type RiskMeasure &lt;: AbstractRiskMeasure end</code></pre><p><strong>Description</strong></p><p>Defines the interface for risk measures that can be used in both <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a> and <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a> optimisation contexts.</p><p>See also: <a href="#PortfolioOptimiser.AbstractRiskMeasure"><code>AbstractRiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.OptimType"><code>OptimType</code></a>, <a href="../../Optimisation/ObjectiveFunctions/#PortfolioOptimiser.ObjectiveFunction"><code>ObjectiveFunction</code></a>.</p><p><strong>Type Hierarchy</strong></p><p><strong>Implementation Requirements</strong></p><p>To ensure concrete subtypes will handle both <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a> and <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a> contexts appropriately, they must implement:</p><ul><li><p>Risk calculation method <a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>.</p></li><li><p>Scalar <a href="https://github.com/jump-dev/JuMP.jl"><code>JuMP</code></a> model implementation, if appropriate a vector equivalent <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>.</p></li><li><p>Include a <code>settings::RMSettings = RMSettings()</code> field for configuration purposes.</p></li><li><p>If the <a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a> involves solving a <a href="https://github.com/jump-dev/JuMP.jl"><code>JuMP</code></a> model:</p><ul><li>Include a <code>solvers::Union{Nothing, &lt;:AbstractDict}</code> field.</li><li>Implement <a href="../MiscRiskMeasureFunctions/#PortfolioOptimiser._set_rm_solvers!-Tuple{Union{EDaR, EDaR_r, EVaR, RLDaR, RLDaR_r, RLVaR}, Any}"><code>_set_rm_solvers!</code></a> and <a href="../MiscRiskMeasureFunctions/#PortfolioOptimiser._unset_rm_solvers!-Tuple{Union{EDaR, EDaR_r, EVaR, RLDaR, RLDaR_r, RLVaR}, Any}"><code>_unset_rm_solvers!</code></a>.</li></ul></li></ul><p><strong>Examples</strong></p><p><strong>No solvers</strong></p><pre><code class="language- hljs"># Creating a concrete risk measure that subtypes RiskMeasure
struct MyRisk &lt;: RiskMeasure
    settings::RMSettings
    # implementation details
end

# Creating risk calculation method
function PortfolioOptimiser.calc_risk(risk::MyRisk, w::AbstractVector; kwargs...)
    # implementation details
end

# Creating a scalar JuMP model implementation
function PortfolioOptimiser.set_rm(port::Portfolio, rm::MyRisk, type::OptimType,
                                   obj::ObjectiveFunction; kwargs...)
    # implementation details
end

# Creating a vector JuMP model implementation
function PortfolioOptimiser.set_rm(port::Portfolio, rms::AbstractVector{&lt;:MyRisk},
                                   type::OptimType, obj::ObjectiveFunction; kwargs...)
    # implementation details
end</code></pre><p><strong>Solvers</strong></p><pre><code class="language- hljs"># Creating a concrete risk measure that subtypes RiskMeasure
# and uses solvers
struct MySolverRisk &lt;: RiskMeasure
    settings::RMSettings
    solvers::Union{Nothing, &lt;:AbstractDict}
    # implementation details
end

# Creating risk calculation method
function PortfolioOptimiser.calc_risk(risk::MySolverRisk, w::AbstractVector; kwargs...)
    # implementation details
end

# Creating a scalar JuMP model implementation
function PortfolioOptimiser.set_rm(port::Portfolio, rm::MySolverRisk, type::OptimType,
                                   obj::ObjectiveFunction; kwargs...)
    # implementation details
end

# Creating a vector JuMP model implementation
function PortfolioOptimiser.set_rm(port::Portfolio, rms::AbstractVector{&lt;:MySolverRisk},
                                   type::OptimType, obj::ObjectiveFunction; kwargs...)
    # implementation details
end

function PortfolioOptimiser._set_rm_solvers!(rm::MySolverRisk, solvers)
    flag = false
    if isnothing(rm.solvers) || isempty(rm.solvers)
        rm.solvers = solvers
        flag = true
    end
    return flag
end

function PortfolioOptimiser._unset_rm_solvers!(rm::MySolverRisk, flag)
    if flag
        rm.solvers = nothing
    end
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L16-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.HCRiskMeasure" href="#PortfolioOptimiser.HCRiskMeasure"><code>PortfolioOptimiser.HCRiskMeasure</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type HCRiskMeasure &lt;: AbstractRiskMeasure end</code></pre><p><strong>Description</strong></p><p>Defines the interface for risk measures specifically designed for use with <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a> optimisation.</p><p>See also: <a href="#PortfolioOptimiser.AbstractRiskMeasure"><code>AbstractRiskMeasure</code></a>, <a href="#PortfolioOptimiser.HCRMSettings"><code>HCRMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>.</p><p><strong>Implementation Requirements</strong></p><p>Concrete subtypes must implement:</p><ul><li><p>Risk calculation method <a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>.</p></li><li><p>Include a <code>settings::HCRMSettings = HCRMSettings()</code> field for configuration purposes.</p></li><li><p>If the <a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a> involves solving a <a href="https://github.com/jump-dev/JuMP.jl"><code>JuMP</code></a> model:</p><ul><li>Include a <code>solvers::Union{Nothing, &lt;:AbstractDict}</code> field.</li><li>Implement <a href="../MiscRiskMeasureFunctions/#PortfolioOptimiser._set_rm_solvers!-Tuple{Union{EDaR, EDaR_r, EVaR, RLDaR, RLDaR_r, RLVaR}, Any}"><code>_set_rm_solvers!</code></a> and <a href="../MiscRiskMeasureFunctions/#PortfolioOptimiser._unset_rm_solvers!-Tuple{Union{EDaR, EDaR_r, EVaR, RLDaR, RLDaR_r, RLVaR}, Any}"><code>_unset_rm_solvers!</code></a>.</li></ul></li></ul><p><strong>Examples</strong></p><p><strong>No solvers</strong></p><pre><code class="language- hljs"># Creating a concrete risk measure that subtypes HCRiskMeasure
struct MyHCRisk &lt;: HCRiskMeasure
    settings::HCRMSettings
    # implementation details
end

# Creating risk calculation method
function PortfolioOptimiser.calc_risk(risk::MyHCRisk, w::AbstractVector; kwargs...)
    # implementation details
end</code></pre><p><strong>Solvers</strong></p><pre><code class="language- hljs"># Creating a concrete risk measure that subtypes HCRiskMeasure
# and uses solvers
struct MySolverHCRisk &lt;: HCRiskMeasure
    settings::HCRMSettings
    solvers::Union{Nothing, &lt;:AbstractDict}
    # implementation details
end

function PortfolioOptimiser.calc_risk(risk::MySolverHCRisk, w::AbstractVector; kwargs...)
    # implementation details
end

function PortfolioOptimiser._set_rm_solvers!(rm::MySolverHCRisk, solvers)
    flag = false
    if isnothing(rm.solvers) || isempty(rm.solvers)
        rm.solvers = solvers
        flag = true
    end
    return flag
end

function PortfolioOptimiser._unset_rm_solvers!(rm::MySolverHCRisk, flag)
    if flag
        rm.solvers = nothing
    end
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L115-L183">source</a></section></article><h2 id="Settings"><a class="docs-heading-anchor" href="#Settings">Settings</a><a id="Settings-1"></a><a class="docs-heading-anchor-permalink" href="#Settings" title="Permalink"></a></h2><p><a href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/"><code>PortfolioOptimiser</code></a> lets users provide multiple risk measures at the same time. They can be added to the risk expression in the optimisation objective, or used to set upper risk bounds. If multiple risk measures are to be used as part of the risk expression in the optimisation objective, it makes sense provide a way to scale each risk contribution in the objective, especially because different risk expressions may have different units, and therefore require appropriate scaling.</p><p>Furthermore, certain risk measures make use of Ordered Weight Array formulations, for which there is an expensive exact formulation, and an approximate, tunable one. We let users decide which one to use, and if they want to use the approximate one they can tune it as they see fit.</p><p>The following structures provide said functionality.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.RMSettings" href="#PortfolioOptimiser.RMSettings"><code>PortfolioOptimiser.RMSettings</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct RMSettings{T1 &lt;: Real, T2 &lt;: Real}</code></pre><p><strong>Description</strong></p><p>Configuration settings for <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a> and <a href="#PortfolioOptimiser.HCRiskMeasure"><code>HCRiskMeasure</code></a>.</p><p>See also: <a href="#PortfolioOptimiser.AbstractRiskMeasure"><code>AbstractRiskMeasure</code></a>, <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.HCRiskMeasure"><code>HCRiskMeasure</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>flag::Bool = true</code>: controls risk inclusion to the risk expression in the optimisation objective.</li><li><code>scale::T1 = 1.0</code>: risk measure scaling factor.</li><li><code>ub::T2 = Inf</code>: upper bound risk constraint.</li></ul><p><strong>Behaviour</strong></p><p><strong><a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!(::Portfolio)</code></a></strong></p><p>With <code>R(w)</code> being a risk measure.</p><ul><li>When <code>flag == true</code>: adds <code>scale * R(w)</code> to the risk expression in the optimisation objective.</li><li><code>scale</code>: multiplier for this risk term in the risk expression.</li><li>When <code>ub &lt; Inf</code>: adds constraint <code>R(w) ≤ ub</code>.</li></ul><p><strong><a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{HCPortfolio}"><code>optimise!(::HCPortfolio)</code></a></strong></p><ul><li><code>flag</code>: no effect.</li><li><code>scale</code>: multiplier for this risk term in the risk expression. Always adds <code>scale * R(w)</code> to the risk expression in the optimisation objective.</li><li><code>ub</code>: no effect.</li></ul><p><strong>Notes</strong></p><ul><li><code>scale</code>: typically used when combining different risk measures in a single optimisation.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
settings = RMSettings()

# Risk-averse configuration, whatever risk measure this is applied 
# to will contribute 8 * risk to the risk expression
settings = RMSettings(; scale = 8.0)

# Risk not added to the objective but constrainted
settings = RMSettings(; flag = false, ub = 0.25)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L186-L234">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.HCRMSettings" href="#PortfolioOptimiser.HCRMSettings"><code>PortfolioOptimiser.HCRMSettings</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct HCRMSettings{T1 &lt;: Real}</code></pre><p><strong>Description</strong></p><p>Configuration settings for <a href="#PortfolioOptimiser.HCRiskMeasure"><code>HCRiskMeasure</code></a>.</p><p>See also: <a href="#PortfolioOptimiser.AbstractRiskMeasure"><code>AbstractRiskMeasure</code></a>, <a href="#PortfolioOptimiser.HCRiskMeasure"><code>HCRiskMeasure</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>scale::T1 = 1.0</code>: multiplier for this risk term in the risk expression.</li></ul><p><strong>Behaviour</strong></p><p>With <code>R(w)</code> being a risk measure.</p><ul><li><code>scale</code>: multiplier for this risk term in the risk expression. Always adds <code>scale * R(w)</code> to the risk expression in the optimisation objective.</li><li>Does not include flag or bounds as hierarchical optimisations cannot constrain the risk, only the weights of the assets.</li></ul><p><strong>Notes</strong></p><ul><li><code>scale</code>: typically used when combining different risk measures in a single optimisation.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
settings = HCRMSettings()

# Contribute more risk to the risk expression
settings = HCRMSettings(; scale = 2.5)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L244-L277">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.OWASettings" href="#PortfolioOptimiser.OWASettings"><code>PortfolioOptimiser.OWASettings</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct OWASettings{T1 &lt;: AbstractVector{&lt;:Real}}</code></pre><p><strong>Description</strong></p><p>Defines the settings for Ordered Weight Array (OWA) risk measures.</p><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>approx::Bool = true</code>: use the p-norm based approximation of the OWA risk measure optimisation.</li><li><code>p::T1 = Float64[2, 3, 4, 10, 50]</code>: vector of the p-norm orders to be used in the approximation.</li></ul><p><strong>Behaviour</strong></p><ul><li><code>p</code> is only used when <code>approx == true</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
owa = OWASettings()

# Use full risk measure formulation
owa = OWASettings(; approx = false)

# Use more p-norms
owa = OWASettings(; p = Float64[1, 2, 4, 8, 16, 32, 64, 128])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1427-L1457">source</a></section></article><h2 id="Risk-measures"><a class="docs-heading-anchor" href="#Risk-measures">Risk measures</a><a id="Risk-measures-1"></a><a class="docs-heading-anchor-permalink" href="#Risk-measures" title="Permalink"></a></h2><p>These risk measures are compatible with both <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a> and <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a> optimisations. Different risk measures account for different aspects of the returns.</p><h3 id="Dispersion-risk-measures"><a class="docs-heading-anchor" href="#Dispersion-risk-measures">Dispersion risk measures</a><a id="Dispersion-risk-measures-1"></a><a class="docs-heading-anchor-permalink" href="#Dispersion-risk-measures" title="Permalink"></a></h3><p>These measure the spread of the returns distribution.</p><h4 id="Full-dispersion-risk-measures"><a class="docs-heading-anchor" href="#Full-dispersion-risk-measures">Full dispersion risk measures</a><a id="Full-dispersion-risk-measures-1"></a><a class="docs-heading-anchor-permalink" href="#Full-dispersion-risk-measures" title="Permalink"></a></h4><p>These measure how far the returns deviate from the mean in both the positive and negative directions.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.SDFormulation" href="#PortfolioOptimiser.SDFormulation"><code>PortfolioOptimiser.SDFormulation</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type SDFormulation end</code></pre><p><strong>Description</strong></p><p>Base type for implementing various approaches to Mean-Variance and standard deviation calculation strategies in <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a> optimisation, each offering different computational and numerical properties.</p><p>See also: <a href="#PortfolioOptimiser.SDSquaredFormulation"><code>SDSquaredFormulation</code></a>, <a href="#PortfolioOptimiser.QuadSD"><code>QuadSD</code></a>, <a href="#PortfolioOptimiser.SOCSD"><code>SOCSD</code></a>, <a href="#PortfolioOptimiser.SimpleSD"><code>SimpleSD</code></a>, <a href="#PortfolioOptimiser.SD"><code>SD</code></a>.</p><p><strong>Type Hierarchy</strong></p><p>Direct subtypes:</p><ul><li><a href="#PortfolioOptimiser.SDSquaredFormulation"><code>SDSquaredFormulation</code></a>: for quadratic expressions of the variance.</li><li><a href="#PortfolioOptimiser.SimpleSD"><code>SimpleSD</code></a>: for direct standard deviation optimisation.</li></ul><p><strong>Behaviour</strong></p><p><strong><a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a> Optimisation</strong></p><ul><li>Concrete subtypes define how standard deviation/variance is represented in the <a href="https://github.com/jump-dev/JuMP.jl"><code>JuMP</code></a> model.</li><li>Choice of formulation can significantly impact solver performance and numerical stability.</li><li>Each formulation may have different solver compatibility requirements.</li></ul><p><strong><a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a> Optimisation</strong></p><ul><li>No effect.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L285-L312">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.SDSquaredFormulation" href="#PortfolioOptimiser.SDSquaredFormulation"><code>PortfolioOptimiser.SDSquaredFormulation</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type SDSquaredFormulation &lt;: SDFormulation end</code></pre><p><strong>Description</strong></p><p>Abstract type for Mean-Variance formulations using quadratic variance expressions for <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a> optimisations.</p><p>These formulations work with the variance form of risk:</p><p class="math-container">\[\begin{align}
\sigma^2 &amp;= \bm{w}^{\intercal} \mathbf{\Sigma} \bm{w}\,.
\end{align}\]</p><p>Where:</p><ul><li><span>$\bm{w}$</span> is the <code>N×1</code> vector of portfolio weights.</li><li><span>$\mathbf{\Sigma}$</span> is the <code>N×N</code> covariance matrix.</li><li><span>$\sigma^2$</span> is the portfolio variance.</li></ul><p>See also: <a href="#PortfolioOptimiser.SDFormulation"><code>SDFormulation</code></a>, <a href="#PortfolioOptimiser.QuadSD"><code>QuadSD</code></a>, <a href="#PortfolioOptimiser.SOCSD"><code>SOCSD</code></a>, <a href="#PortfolioOptimiser.SimpleSD"><code>SimpleSD</code></a>, <a href="#PortfolioOptimiser.SD"><code>SD</code></a>.</p><p><strong>Type Hierarchy</strong></p><p>Direct subtypes:</p><ul><li><a href="#PortfolioOptimiser.QuadSD"><code>QuadSD</code></a>: explicit quadratic formulation of the portfolio variance.</li><li><a href="#PortfolioOptimiser.SOCSD"><code>SOCSD</code></a>: second-Order Cone (SOC) formulation of the portfolio variance.</li></ul><p><strong>Behaviour</strong></p><ul><li>Produces a <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#QuadExpr"><code>QuadExpr</code></a> for <code>sd_risk</code> in the <a href="https://github.com/jump-dev/JuMP.jl"><code>JuMP</code></a> model.</li><li>Not compatible with <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.NOC"><code>NOC</code></a> (Near Optimal Centering) optimisations because <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#QuadExpr"><code>QuadExpr</code></a> are not strictly convex.</li><li>May have different numerical stability properties compared to direct SD formulations.</li><li>Risk is expressed in terms of the variance (squared standard deviation).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L315-L351">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.QuadSD" href="#PortfolioOptimiser.QuadSD"><code>PortfolioOptimiser.QuadSD</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct QuadSD &lt;: SDSquaredFormulation end</code></pre><p><strong>Description</strong></p><p>Explicit quadratic formulation for variance-based <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a> optimisation.</p><p>Implements the classical quadratic form of portfolio variance:</p><p class="math-container">\[\begin{align}
\underset{\bm{w}}{\mathrm{opt}} &amp;\qquad \sigma^2\nonumber\\
\textrm{s.t.} &amp;\qquad \sigma^2 = \bm{w}^\intercal \mathbf{\Sigma} \bm{w}\,.
\end{align}\]</p><p>Where:</p><ul><li><span>$\bm{w}$</span> is the <code>N×1</code> vector of portfolio weights.</li><li><span>$\mathbf{\Sigma}$</span> is the <code>N×N</code> covariance matrix.</li><li><span>$\sigma^2$</span> is the portfolio variance.</li></ul><p>See also: <a href="#PortfolioOptimiser.SDFormulation"><code>SDFormulation</code></a>, <a href="#PortfolioOptimiser.SDSquaredFormulation"><code>SDSquaredFormulation</code></a>, <a href="#PortfolioOptimiser.SOCSD"><code>SOCSD</code></a>, <a href="#PortfolioOptimiser.SimpleSD"><code>SimpleSD</code></a>, <a href="#PortfolioOptimiser.SD"><code>SD</code></a>.</p><p><strong>Behaviour</strong></p><ul><li>Produces a <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#QuadExpr"><code>QuadExpr</code></a> risk expression <code>sd_risk = dot(w, sigma, w)</code>.</li><li>Not compatible with <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.NOC"><code>NOC</code></a> (Near Optimal Centering) optimisations because <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#QuadExpr"><code>QuadExpr</code></a> are not strictly convex.</li><li>No additional variables or constraints introduced.</li><li>Requires a solver capable of handling quadratic objectives.</li><li>Performance may degrade for large portfolios.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Using portfolio&#39;s built-in covariance
sd_risk = SD(; formulation = QuadSD())

# Custom configuration with specific covariance matrix
my_sigma = [1.0 0.2; 0.2 1.0]
sd_risk = SD(; settings = RMSettings(; scale = 2.0), formulation = QuadSD(),
             sigma = my_sigma)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L354-L397">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.SOCSD" href="#PortfolioOptimiser.SOCSD"><code>PortfolioOptimiser.SOCSD</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct SOCSD &lt;: SDSquaredFormulation end</code></pre><p><strong>Description</strong></p><p>Second-Order Cone (SOC) formulation for variance-based <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a> optimisation.</p><p>Reformulates the quadratic variance expression using second-order cone constraints:</p><p class="math-container">\[\begin{align}
\underset{\bm{w}}{\mathrm{opt}} &amp;\qquad \sigma^2\nonumber\\
\textrm{s.t.} &amp;\qquad \left\lVert \sqrt{\mathbf{\Sigma}} \bm{w} \right\rVert_{2} \leq \sigma\,.
\end{align}\]</p><p>Where:</p><ul><li><span>$\bm{w}$</span> is the <code>N×1</code> vector of portfolio weights.</li><li><span>$\mathbf{\Sigma}$</span> is the <code>N×N</code> covariance matrix.</li><li><span>$\sigma^2$</span> is the portfolio variance.</li><li><span>$\lVert \cdot \rVert_{2}$</span> is the L-2 norm.</li></ul><p>See also: <a href="#PortfolioOptimiser.SDFormulation"><code>SDFormulation</code></a>, <a href="#PortfolioOptimiser.SDSquaredFormulation"><code>SDSquaredFormulation</code></a>, <a href="#PortfolioOptimiser.QuadSD"><code>QuadSD</code></a>, <a href="#PortfolioOptimiser.SimpleSD"><code>SimpleSD</code></a>, <a href="#PortfolioOptimiser.SD"><code>SD</code></a>.</p><p><strong>Behaviour</strong></p><ul><li>Uses <a href="https://jump.dev/JuMP.jl/stable/manual/constraints/#Second-order-cone-constraints"><code>SecondOrderCone</code></a> constraints.</li><li>Defines a standard deviation variable <code>dev</code>.</li><li>Produces a <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#QuadExpr"><code>QuadExpr</code></a> risk expression <code>sd_risk = dev^2</code>.</li><li>Not compatible with <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.NOC"><code>NOC</code></a> (Near Optimal Centering) optimisations because <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#QuadExpr"><code>QuadExpr</code></a> are not strictly convex.</li><li>Often more numerically stable than direct quadratic formulation.</li><li>Better scaling properties for large portfolios.</li><li>Compatible with specialised conic solvers.</li><li>May introduce more variables but often leads to better solution times.</li><li>Particularly effective for large-scale problems.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Custom configuration with specific covariance matrix
# Using portfolio&#39;s built-in covariance
sd_risk = SD(; formulation = SOCSD())

my_sigma = [1.0 0.2; 0.2 1.0]
sd_risk = SD(; settings = RMSettings(; scale = 2.0), formulation = SOCSD(),
             sigma = my_sigma)</code></pre><p>See also: <a href="#PortfolioOptimiser.SD"><code>SD</code></a>, <a href="#PortfolioOptimiser.SDSquaredFormulation"><code>SDSquaredFormulation</code></a>, <a href="#PortfolioOptimiser.QuadSD"><code>QuadSD</code></a>, <a href="#PortfolioOptimiser.SimpleSD"><code>SimpleSD</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L400-L450">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.SimpleSD" href="#PortfolioOptimiser.SimpleSD"><code>PortfolioOptimiser.SimpleSD</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct SimpleSD &lt;: SDFormulation end</code></pre><p><strong>Description</strong></p><p>Linear standard deviation formulation using Second-Order Cone constraints for <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a> optimisations.</p><p>Reformulates the affine standard deviation expression using second-order cone constraints:</p><p class="math-container">\[\begin{align}
\underset{\bm{w}}{\mathrm{opt}} &amp;\qquad \sigma\nonumber\\
\textrm{s.t.} &amp;\qquad \left\lVert \sqrt{\mathbf{\Sigma}} \bm{w} \right\rVert_{2} \leq \sigma\,.
\end{align}\]</p><p>Where:</p><ul><li><span>$\bm{w}$</span> is the <code>N×1</code> vector of portfolio weights.</li><li><span>$\mathbf{\Sigma}$</span> is the <code>N×N</code> covariance matrix.</li><li><span>$\sigma$</span> is the portfolio standard deviation.</li><li><span>$\lVert \cdot \rVert_{2}$</span> is the L-2 norm.</li></ul><p>See also: <a href="#PortfolioOptimiser.SDFormulation"><code>SDFormulation</code></a>, <a href="#PortfolioOptimiser.SDSquaredFormulation"><code>SDSquaredFormulation</code></a>, <a href="#PortfolioOptimiser.SOCSD"><code>SOCSD</code></a>, <a href="#PortfolioOptimiser.QuadSD"><code>QuadSD</code></a>, <a href="#PortfolioOptimiser.SD"><code>SD</code></a>.</p><p><strong>Behaviour</strong></p><ul><li>Uses <a href="https://jump.dev/JuMP.jl/stable/manual/constraints/#Second-order-cone-constraints"><code>SecondOrderCone</code></a> constraints.</li><li>Defines a standard deviation variable <code>dev</code>.</li><li>Sets the <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#AffExpr"><code>AffExpr</code></a> risk expression <code>sd_risk = dev</code>.</li><li>Compatible with <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.NOC"><code>NOC</code></a> (Near Optimal Centering) optimisations because <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#AffExpr"><code>AffExpr</code></a> are strictly convex.</li><li>Direct optimisation of standard deviation rather than variance.</li><li>Often better numerical properties than squared formulations.</li><li>Compatible with specialised conic solvers.</li><li>May provide more intuitive results as risk is in same units as returns.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Using portfolio&#39;s built-in covariance
sd_risk = SD(; formulation = SimpleSD())

# Custom configuration with specific covariance matrix
my_sigma = [1.0 0.2; 0.2 1.0]
sd_risk = SD(; settings = RMSettings(; scale = 2.0), formulation = SimpleSD(),
             sigma = my_sigma)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L453-L500">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.SD" href="#PortfolioOptimiser.SD"><code>PortfolioOptimiser.SD</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct SD &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><ul><li>Measures the dispersion in the returns from the mean.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="#PortfolioOptimiser.SDFormulation"><code>SDFormulation</code></a>, <a href="#PortfolioOptimiser.SDSquaredFormulation"><code>SDSquaredFormulation</code></a>, <a href="#PortfolioOptimiser.SOCSD"><code>SOCSD</code></a>, <a href="#PortfolioOptimiser.QuadSD"><code>QuadSD</code></a>, <a href="#PortfolioOptimiser.SimpleSD"><code>SimpleSD</code></a>, <a href="#PortfolioOptimiser.MAD"><code>MAD</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../../Optimisation/PortfolioClasses/#PortfolioOptimiser.PortClass"><code>PortClass</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{SD, AbstractVector}"><code>calc_risk(::SD, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._SD"><code>_SD</code></a>.</p><p><strong><a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a></strong></p><p>Implements portfolio Standard Deviation/Variance risk using configurable <code>formulation</code> strategies.</p><p><strong><a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a></strong></p><p>Implements portfolio Standard Deviation risk.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: risk measure configuration settings.</li><li><code>formulation::SDFormulation = SOCSD()</code>: strategy for standard deviation/variance calculation. Only affects <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a> optimisations.</li><li><code>sigma::Union{&lt;:AbstractMatrix, Nothing} = nothing</code>: optional covariance matrix.</li></ul><p><strong>Behaviour</strong></p><p><strong>Covariance Matrix Usage</strong></p><ul><li><p>If <code>sigma</code> is <code>nothing</code>:</p><ul><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>: uses the covariance matrix <code>cov</code>, <code>fm_cov</code>, <code>bl_cov</code> or <code>blfm_cov</code>, depending on the <code>class::</code><a href="../../Optimisation/PortfolioClasses/#PortfolioOptimiser.PortClass"><code>PortClass</code></a> parameter of <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>.</li><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>: uses the covariance matrix <code>cov</code>.</li></ul></li><li><p>If <code>sigma</code> provided: uses custom covariance matrix.</p></li></ul><p><strong>Validation</strong></p><ul><li>When setting <code>sigma</code> at construction or runtime, the matrix must be square (<code>N×N</code>).</li></ul><p><strong>Formulation Impact on <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a> Optimisation</strong></p><ul><li><a href="#PortfolioOptimiser.QuadSD"><code>QuadSD</code></a>: Direct quadratic implementation of variance, <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#QuadExpr"><code>QuadExpr</code></a>. Not compatible with <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.NOC"><code>NOC</code></a> (Near Optimal Centering) optimisations because <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#QuadExpr"><code>QuadExpr</code></a> are not strictly convex.</li><li><a href="#PortfolioOptimiser.SOCSD"><code>SOCSD</code></a>: Second-order cone formulation of variance, <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#QuadExpr"><code>QuadExpr</code></a>. Not compatible with <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.NOC"><code>NOC</code></a> (Near Optimal Centering) optimisations because <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#QuadExpr"><code>QuadExpr</code></a> are not strictly convex.</li><li><a href="#PortfolioOptimiser.SimpleSD"><code>SimpleSD</code></a>: Standard deviation Second-order cone constraints, <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#AffExpr"><code>AffExpr</code></a>. Compatible with <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.NOC"><code>NOC</code></a> (Near Optimal Centering) optimisations because <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#AffExpr"><code>AffExpr</code></a> are strictly convex.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
sd_risk = SD()

# Custom configuration with specific covariance matrix
my_sigma = [1.0 0.2; 0.2 1.0]
sd_risk = SD(; settings = RMSettings(; scale = 2.0), formulation = SOCSD(),
             sigma = my_sigma)

# Using portfolio&#39;s built-in covariance
sd_risk = SD(; formulation = QuadSD(), sigma = nothing)

# For an NOC optimisation
sd_risk = SD(; formulation = SimpleSD())</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L503-L564">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.MAD" href="#PortfolioOptimiser.MAD"><code>PortfolioOptimiser.MAD</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct MAD &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Mean Absolute Deviation risk measure implementation.</p><ul><li>Measures the dispersion in the returns from the mean.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="#PortfolioOptimiser.SD"><code>SD</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{MAD, AbstractVector}"><code>calc_risk(::MAD, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._MAD"><code>_MAD</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>w::Union{&lt;:AbstractWeights, Nothing} = nothing</code>: optional <code>T×1</code> vector of weights for expected return calculation.</li><li><code>mu::Union{&lt;:AbstractVector, Nothing} = nothing</code>: optional <code>N×1</code> vector of expected asset returns.</li></ul><p><strong>Behaviour</strong></p><p><strong><a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a> Optimisation</strong></p><ul><li>If <code>mu</code> is <code>nothing</code>: use the expected returns vector from the <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a> instance.</li></ul><p><strong><a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a> Optimisation or in <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{MAD, AbstractVector}"><code>calc_risk(::MAD, ::AbstractVector)</code></a>.</strong></p><ul><li>If <code>w</code> is <code>nothing</code>: computes the unweighted mean portfolio return.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
mad = MAD()

# Custom configuration
w = eweights(1:100, 0.3)  # Exponential weights for computing the portfolio mean return
mu = rand(10)             # Expected returns
mad = MAD(; settings = RMSettings(; scale = 2.0), w = w, mu = mu)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L586-L624">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.Kurt" href="#PortfolioOptimiser.Kurt"><code>PortfolioOptimiser.Kurt</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct Kurt &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Square Root Kurtosis risk measure implementation for portfolio optimisation.</p><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{Kurt, AbstractVector}"><code>calc_risk(::Kurt, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._Kurt"><code>_Kurt</code></a>, <a href="#PortfolioOptimiser.SKurt"><code>SKurt</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>w::Union{&lt;:AbstractWeights, Nothing} = nothing</code>: optional <code>T×1</code> vector of weights for expected return calculation.</li><li><code>kt::Union{AbstractMatrix, Nothing} = nothing</code>: optional cokurtosis matrix.</li></ul><p><strong>Behaviour</strong></p><ul><li>If <code>kt</code> is <code>nothing</code>: uses the semi cokurtosis matrix <code>skurt</code> from the <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a> object.</li><li>If <code>kt</code> provided: uses custom semi cokurtosis matrix.</li></ul><p><strong>Validation</strong></p><ul><li>When setting <code>kt</code> at construction or runtime, the matrix must be square (<code>N²×N²</code>).</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
kurt = Kurt()

# Custom configuration with specific cokurtosis matrix
my_kt = [1.0 0.2; 0.2 1.0]
kurt = Kurt(; settings = RMSettings(; scale = 2.0), kt = my_kt)

# Using portfolio&#39;s built-in cokurtosis matrix
kurt = Kurt(; kt = nothing)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1233-L1270">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.RG" href="#PortfolioOptimiser.RG"><code>PortfolioOptimiser.RG</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct RG{T1 &lt;: Real} &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Defines the Range risk measure.</p><ul><li>Measures the best and worst returns, <span>$\left[\mathrm{WR}(\bm{X}),\, \mathrm{WR}(-\bm{X})\right]$</span>.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{RG, AbstractVector}"><code>calc_risk(::RG, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._RG"><code>_RG</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
rg = RG()

# Custom settings
rg = RG(; settings = RMSettings(; ub = 0.5))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1341-L1365">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.CVaRRG" href="#PortfolioOptimiser.CVaRRG"><code>PortfolioOptimiser.CVaRRG</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct CVaRRG{T1 &lt;: Real, T2 &lt;: Real} &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Defines the Conditional Value at Risk Range risk measure.</p><ul><li>Measures the range between the expected loss in the worst <code>alpha %</code> of cases and expected gain in the best <code>beta %</code> of cases, <span>$\left[\mathrm{CVaR}(\bm{X},\, \alpha),\, \mathrm{CVaR}(-\bm{X},\, \beta)\right]$</span>.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{CVaRRG, AbstractVector}"><code>calc_risk(::CVaRRG, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._TGRG"><code>_TGRG</code></a>, <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>, <a href="#PortfolioOptimiser.RG"><code>RG</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>alpha::T1 = 0.05</code>: significance level of losses, <code>alpha ∈ (0, 1)</code>.</li><li><code>alpha::T2 = 0.05</code>: significance level of gains, <code>beta ∈ (0, 1)</code>.</li></ul><p><strong>Behaviour</strong></p><p><strong>Validation</strong></p><ul><li>When setting <code>alpha</code> at construction or runtime, <code>alpha ∈ (0, 1)</code>.</li><li>When setting <code>beta</code> at construction or runtime, <code>beta ∈ (0, 1)</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
cdar = CVaRRG()

# Custom significance level
cdar = CVaRRG(; settings = RMSettings(; scale = 1.0), #
              alpha = 0.01, # 1 % significance level losses 
              beta = 0.03)  # 3 % significance level gains</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1373-L1408">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.TGRG" href="#PortfolioOptimiser.TGRG"><code>PortfolioOptimiser.TGRG</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct TGRG{T1 &lt;: Real, T2 &lt;: Real, T3 &lt;: Integer, T4 &lt;: Real, T5 &lt;: Real, T6 &lt;: Integer} &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Defines the Tail Gini Difference Range risk measure.</p><ul><li>Measures the range between the worst <code>alpha %</code> tail gini of cases and best <code>beta %</code> tail gini of cases, <span>$\left[\mathrm{TG}(\bm{X},\, \alpha),\, \mathrm{TG}(-\bm{X},\, \beta)\right]$</span>.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="#PortfolioOptimiser.OWASettings"><code>OWASettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{TGRG, AbstractVector}"><code>calc_risk(::TGRG, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._TGRG"><code>_TGRG</code></a>, <a href="#PortfolioOptimiser.TG"><code>TG</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>owa::OWASettings = OWASettings()</code>: OWA risk measure settings.</li><li><code>alpha_i::T1 = 0.0001</code>: start value of the significance level of CVaR losses, <code>0 &lt; alpha_i &lt; alpha &lt; 1</code>.</li><li><code>alpha::T2 = 0.05</code>: end value of the significance level of CVaR losses, <code>0 &lt; alpha_i &lt; alpha &lt; 1</code>.</li><li><code>a_sim::T3 = 100</code>: number of CVaRs to approximate the Tail Gini losses, <code>a_sim &gt; 0</code>.</li><li><code>beta_i::T4 = 0.0001</code>: start value of the significance level of CVaR gains, <code>0 &lt; beta_i &lt; beta &lt; 1</code>.</li><li><code>beta::T5 = 0.05</code>: end value of the significance level of CVaR gains, <code>0 &lt; beta_i &lt; beta &lt; 1</code>.</li><li><code>b_sim::T6 = 100</code>: number of CVaRs to approximate the Tail Gini gains, <code>b_sim &gt; 0</code>.</li></ul><p><strong>Behaviour</strong></p><p><strong>Validation</strong></p><ul><li>When setting <code>alpha_i</code> at construction or runtime, <code>0 &lt; alpha_i &lt; alpha &lt; 1</code>.</li><li>When setting <code>alpha</code> at construction or runtime, <code>0 &lt; alpha_i &lt; alpha &lt; 1</code>.</li><li>When setting <code>a_sim</code> at construction or runtime, <code>a_sim &gt; 0</code>.</li><li>When setting <code>beta_i</code> at construction or runtime, <code>0 &lt; beta_i &lt; beta &lt; 1</code>.</li><li>When setting <code>beta</code> at construction or runtime, <code>0 &lt; beta_i &lt; beta &lt; 1</code>.</li><li>When setting <code>b_sim</code> at construction or runtime, <code>b_sim &gt; 0</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
rtg = RTG()

# Use full risk measure formulation with custom parameters
rtg = RTG(; alpha = 0.07, b_sim = 200, owa = OWASettings(; approx = false))

# Use more p-norms and constrain risk without adding it to the problem&#39;s risk expression
rtg = RTG(; settings = RMSettings(; flag = false, ub = 0.1),
          owa = OWASettings(; p = Float64[1, 2, 4, 8, 16, 32, 64, 128]))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1567-L1613">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.GMD" href="#PortfolioOptimiser.GMD"><code>PortfolioOptimiser.GMD</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct GMD &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Defines the Gini Mean Difference risk measure.</p><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="#PortfolioOptimiser.OWASettings"><code>OWASettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{GMD, AbstractVector}"><code>calc_risk(::GMD, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._GMD"><code>_GMD</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>owa::OWASettings = OWASettings()</code>: OWA risk measure settings.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
gmd = GMD()

# Use full risk measure formulation
gmd = GMD(; owa = OWASettings(; approx = false))

# Use more p-norms and custom settings
gmd = GMD(; settings = RMSettings(; scale = 1.7),
          owa = OWASettings(; p = Float64[1, 2, 4, 8, 16, 32, 64, 128]))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1467-L1494">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.Skew" href="#PortfolioOptimiser.Skew"><code>PortfolioOptimiser.Skew</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Skew &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Define the Quadratic Skewness risk measure.</p><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="#PortfolioOptimiser.OWASettings"><code>OWASettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{Union{SSkew, Skew}, AbstractVector}"><code>calc_risk(::Skew, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._Skew"><code>_Skew</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>skew::Union{&lt;:AbstractMatrix, Nothing}</code>: optional <code>N×N²</code> custom coskewness matrix.</li><li><code>V::Union{Nothing, &lt;:AbstractMatrix}</code>: optional <code>Na×Na</code> custom sum of the symmetric negative spectral slices of the coskewness.</li></ul><p><strong>Behaviour</strong></p><p><strong>Coskewness matrix usage</strong></p><ul><li><p>If <code>skew</code> is <code>nothing</code>:</p><ul><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>: no effect.</li><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>: uses the portfolio coskewness matrix <code>skew</code> to generate the <code>V</code> matrix.</li></ul></li><li><p>If <code>skew</code> provided:</p><ul><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>: no effect.</li><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>: uses the custom coskew matrix to generate the <code>V</code> matrix.</li></ul></li></ul><p><strong><code>V</code> matrix</strong></p><ul><li><p>If <code>V</code> is <code>nothing</code>:</p><ul><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>: uses the portfolio <code>V</code> matrix.</li><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>: no effect.</li></ul></li><li><p>If <code>V</code> provided:</p><ul><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>: uses the custom <code>V</code> matrix.</li><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>: no effect.</li></ul></li></ul><p><strong>Validation</strong></p><ul><li>When setting <code>skew</code> at construction or runtime, the matrix must have dimensions (<code>N×N²</code>).</li><li>When setting <code>V</code> at construction or runtime, the matrix must be square (<code>N×N</code>).</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
skew = Skew()

# Custom settings
skew = Skew(; settings = RMSettings(; ub = 0.5))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1725-L1780">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.BDVariance" href="#PortfolioOptimiser.BDVariance"><code>PortfolioOptimiser.BDVariance</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct BDVariance &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Define the Brownian Distance Variance risk measure.</p><ul><li>Measures linear and non-linear relationships between variables.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="#PortfolioOptimiser.OWASettings"><code>OWASettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{BDVariance, AbstractVector}"><code>calc_risk(::BDVariance, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._BDVariance"><code>_BDVariance</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
dvar = BDVariance()

# Custom settings
dvar = BDVariance(; settings = RMSettings(; ub = 0.5))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1693-L1717">source</a></section></article><h4 id="Downside-dispersion-risk-measures"><a class="docs-heading-anchor" href="#Downside-dispersion-risk-measures">Downside dispersion risk measures</a><a id="Downside-dispersion-risk-measures-1"></a><a class="docs-heading-anchor-permalink" href="#Downside-dispersion-risk-measures" title="Permalink"></a></h4><p>These measure how far the returns deviate from the mean in the negative direction.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.SSD" href="#PortfolioOptimiser.SSD"><code>PortfolioOptimiser.SSD</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct SSD{T1 &lt;: Real} &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Semi Standard Deviation risk measure implementation.</p><ul><li>Measures the standard deviation equal to or below the <code>target</code> return threshold.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{SSD, AbstractVector}"><code>calc_risk(::SSD, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._SSD"><code>_SSD</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>target::T1 = 0.0</code>: minimum return threshold for downside classification.</li><li><code>w::Union{&lt;:AbstractWeights, Nothing} = nothing</code>: optional <code>T×1</code> vector of weights for expected return calculation.</li><li><code>mu::Union{&lt;:AbstractVector, Nothing} = nothing</code>: optional <code>N×1</code> vector of expected asset returns.</li></ul><p><strong>Behaviour</strong></p><p><strong><a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a> Optimisation</strong></p><ul><li>If <code>mu</code> is <code>nothing</code>: use the expected returns vector from the <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a> instance.</li></ul><p><strong><a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a> Optimisation or in <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{SSD, AbstractVector}"><code>calc_risk(::SSD, ::AbstractVector)</code></a>.</strong></p><ul><li>If <code>w</code> is <code>nothing</code>: computes the unweighted mean portfolio return.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
ssd = SSD()

# Custom configuration with specific target
w = eweights(1:100, 0.3)  # Exponential weights for computing the portfolio mean return
mu = rand(10)             # Expected returns
ssd = SSD(; settings = RMSettings(; scale = 2.0), w = w, mu = mu)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L636-L675">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.FLPM" href="#PortfolioOptimiser.FLPM"><code>PortfolioOptimiser.FLPM</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct FLPM{T1 &lt;: Real} &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>First Lower Partial Moment (Omega ratio) risk measure.</p><ul><li>Measures the dispersion equal to or below the <code>target</code> return threshold.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="#PortfolioOptimiser.SLPM"><code>SLPM</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{FLPM, AbstractVector}"><code>calc_risk(::FLPM, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._FLPM"><code>_FLPM</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>target::T1 = 0.0</code>: minimum return threshold for downside classification.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
flpm = FLPM()

# Custom target return
flpm = FLPM(; target = 0.01)  # 1 % minimum return threshold</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L688-L713">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.SLPM" href="#PortfolioOptimiser.SLPM"><code>PortfolioOptimiser.SLPM</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct SLPM{T1 &lt;: Real} &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Second Lower Partial Moment (Sortino ratio) risk measure.</p><ul><li>Measures the dispersion equal to or below the <code>target</code> return threshold.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="#PortfolioOptimiser.FLPM"><code>FLPM</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{SLPM, AbstractVector}"><code>calc_risk(::SLPM, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._SLPM"><code>_SLPM</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>target::T1 = 0.0</code>: minimum return threshold for downside classification.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
slpm = SLPM()

# Custom settings
slpm = SLPM(; settings = RMSettings(; scale = 2.0), target = 0.005)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L722-L747">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.SKurt" href="#PortfolioOptimiser.SKurt"><code>PortfolioOptimiser.SKurt</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct SKurt{T1 &lt;: Real} &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Square Root Semi Kurtosis risk measure implementation for portfolio optimisation.</p><ul><li>Measures the kurtosis equal to or below the <code>target</code> return threshold.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{SKurt, AbstractVector}"><code>calc_risk(::SKurt, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._SKurt"><code>_SKurt</code></a>, <a href="#PortfolioOptimiser.Kurt"><code>Kurt</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>target::T1 = 0.0</code>: minimum return threshold for downside classification.</li><li><code>w::Union{&lt;:AbstractWeights, Nothing} = nothing</code>: optional <code>T×1</code> vector of weights for expected return calculation.</li><li><code>kt::Union{AbstractMatrix, Nothing} = nothing</code>: optional cokurtosis matrix.</li></ul><p><strong>Behaviour</strong></p><ul><li>If <code>kt</code> is <code>nothing</code>: uses the cokurtosis from matrix <code>skurt</code> from the <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a> object.</li><li>If <code>kt</code> provided: uses custom cokurtosis matrix.</li></ul><p><strong>Validation</strong></p><ul><li>When setting <code>kt</code> at construction or runtime, the matrix must be square (<code>N²×N²</code>).</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
skurt = SKurt()

# Custom configuration with specific cokurtosis matrix
my_kt = [1.0 0.2; 0.2 1.0]
skurt = SKurt(; settings = RMSettings(; scale = 2.0), kt = my_kt)

# Using portfolio&#39;s built-in cokurtosis matrix
skurt = SKurt(; kt = nothing, target = 0.015) # 1.5% minimum return threshold</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1285-L1325">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.SSkew" href="#PortfolioOptimiser.SSkew"><code>PortfolioOptimiser.SSkew</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct SSkew &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Define the Quadratic Semi Skewness risk measure.</p><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="#PortfolioOptimiser.OWASettings"><code>OWASettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{Union{SSkew, Skew}, AbstractVector}"><code>calc_risk(::SSkew, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._Skew"><code>_Skew</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>skew::Union{&lt;:AbstractMatrix, Nothing}</code>: optional <code>N×N²</code> custom semi coskewness matrix.</li><li><code>V::Union{Nothing, &lt;:AbstractMatrix}</code>: optional <code>Na×Na</code> custom sum of the symmetric negative spectral slices of the semi coskewness.</li></ul><p><strong>Behaviour</strong></p><p><strong>Coskewness matrix usage</strong></p><ul><li><p>If <code>skew</code> is <code>nothing</code>:</p><ul><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>: no effect.</li><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>: uses the portfolio semi coskewness matrix <code>sskew</code> to generate the <code>V</code> matrix.</li></ul></li><li><p>If <code>skew</code> provided:</p><ul><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>: no effect.</li><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>: uses the custom semi coskew matrix to generate the <code>V</code> matrix.</li></ul></li></ul><p><strong><code>V</code> matrix</strong></p><ul><li><p>If <code>V</code> is <code>nothing</code>:</p><ul><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>: uses the portfolio <code>SV</code> matrix.</li><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>: no effect.</li></ul></li><li><p>If <code>V</code> provided:</p><ul><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>: uses the custom <code>V</code> matrix.</li><li>With <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>: no effect.</li></ul></li></ul><p><strong>Validation</strong></p><ul><li>When setting <code>skew</code> at construction or runtime, the matrix must have dimensions (<code>N×N²</code>).</li><li>When setting <code>V</code> at construction or runtime, the matrix must be square (<code>N×N</code>).</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
sskew = SSkew()

# Custom settings
sskew = SSkew(; settings = RMSettings(; ub = 0.5))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1810-L1865">source</a></section></article><h3 id="Downside-risk-measures"><a class="docs-heading-anchor" href="#Downside-risk-measures">Downside risk measures</a><a id="Downside-risk-measures-1"></a><a class="docs-heading-anchor-permalink" href="#Downside-risk-measures" title="Permalink"></a></h3><p>These measure different aspects of the tail (negative side) of the returns distribution.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.WR" href="#PortfolioOptimiser.WR"><code>PortfolioOptimiser.WR</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct WR &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Worst Realization/Return risk measure.</p><ul><li>Useful for extremely conservative risk assessment.</li><li><span>$\mathrm{VaR}(\bm{X},\, \alpha) \leq \mathrm{CVaR}(\bm{X},\, \alpha) \leq \mathrm{EVaR}(\bm{X},\, \alpha) \leq \mathrm{RLVaR}(\bm{X},\, \alpha,\, \kappa) \leq \mathrm{WR}(\bm{X})$</span>.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{WR, AbstractVector}"><code>calc_risk(::WR, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._WR"><code>_WR</code></a>, <a href="#PortfolioOptimiser.VaR"><code>VaR</code></a>, <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>, <a href="#PortfolioOptimiser.EVaR"><code>EVaR</code></a>, <a href="#PortfolioOptimiser.RLVaR"><code>RLVaR</code></a>, <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a>, <a href="#PortfolioOptimiser.DaR_r"><code>DaR_r</code></a>, <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>, <a href="#PortfolioOptimiser.CDaR_r"><code>CDaR_r</code></a>, <a href="#PortfolioOptimiser.EDaR"><code>EDaR</code></a>, <a href="#PortfolioOptimiser.EDaR_r"><code>EDaR_r</code></a>, <a href="#PortfolioOptimiser.RLDaR"><code>RLDaR</code></a>, <a href="#PortfolioOptimiser.RLDaR_r"><code>RLDaR_r</code></a>, <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>, <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
wr = WR()

# Custom settings
wr = WR(; settings = RMSettings(; scale = 1.5))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L756-L781">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.CVaR" href="#PortfolioOptimiser.CVaR"><code>PortfolioOptimiser.CVaR</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct CVaR{T1 &lt;: Real} &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Conditional Value at Risk (Expected Shortfall) risk measure.</p><ul><li>Measures expected loss in the worst <code>alpha %</code> of cases.</li><li><span>$\mathrm{VaR}(\bm{X},\, \alpha) \leq \mathrm{CVaR}(\bm{X},\, \alpha) \leq \mathrm{EVaR}(\bm{X},\, \alpha) \leq \mathrm{RLVaR}(\bm{X},\, \alpha,\, \kappa) \leq \mathrm{WR}(\bm{X})$</span>.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{CVaR, AbstractVector}"><code>calc_risk(::CVaR, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._CVaR"><code>_CVaR</code></a>, <a href="#PortfolioOptimiser.VaR"><code>VaR</code></a>, <a href="#PortfolioOptimiser.EVaR"><code>EVaR</code></a>, <a href="#PortfolioOptimiser.RLVaR"><code>RLVaR</code></a>, <a href="#PortfolioOptimiser.WR"><code>WR</code></a>, <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a>, <a href="#PortfolioOptimiser.DaR_r"><code>DaR_r</code></a>, <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>, <a href="#PortfolioOptimiser.CDaR_r"><code>CDaR_r</code></a>, <a href="#PortfolioOptimiser.EDaR"><code>EDaR</code></a>, <a href="#PortfolioOptimiser.EDaR_r"><code>EDaR_r</code></a>, <a href="#PortfolioOptimiser.RLDaR"><code>RLDaR</code></a>, <a href="#PortfolioOptimiser.RLDaR_r"><code>RLDaR_r</code></a>, <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>, <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>alpha::T1 = 0.05</code>: significance level, <code>alpha ∈ (0, 1)</code>.</li></ul><p><strong>Behaviour</strong></p><p><strong>Validation</strong></p><ul><li>When setting <code>alpha</code> at construction or runtime, <code>alpha ∈ (0, 1)</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
cvar = CVaR()

# Custom significance level
cvar = CVaR(; settings = RMSettings(; scale = 1.0), alpha = 0.01)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L789-L821">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.EVaR" href="#PortfolioOptimiser.EVaR"><code>PortfolioOptimiser.EVaR</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct EVaR{T1 &lt;: Real} &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Entropic Value at Risk risk measure.</p><ul><li>It is the upper bound of the Chernoff inequality for the <a href="#PortfolioOptimiser.VaR"><code>VaR</code></a> and <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>.</li><li><span>$\mathrm{VaR}(\bm{X},\, \alpha) \leq \mathrm{CVaR}(\bm{X},\, \alpha) \leq \mathrm{EVaR}(\bm{X},\, \alpha) \leq \mathrm{RLVaR}(\bm{X},\, \alpha,\, \kappa) \leq \mathrm{WR}(\bm{X})$</span>.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{EVaR, AbstractVector}"><code>calc_risk(::EVaR, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._EVaR"><code>_EVaR</code></a>, <a href="#PortfolioOptimiser.VaR"><code>VaR</code></a>, <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>, <a href="#PortfolioOptimiser.RLVaR"><code>RLVaR</code></a>, <a href="#PortfolioOptimiser.WR"><code>WR</code></a>, <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a>, <a href="#PortfolioOptimiser.DaR_r"><code>DaR_r</code></a>, <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>, <a href="#PortfolioOptimiser.CDaR_r"><code>CDaR_r</code></a>, <a href="#PortfolioOptimiser.EDaR"><code>EDaR</code></a>, <a href="#PortfolioOptimiser.EDaR_r"><code>EDaR_r</code></a>, <a href="#PortfolioOptimiser.RLDaR"><code>RLDaR</code></a>, <a href="#PortfolioOptimiser.RLDaR_r"><code>RLDaR_r</code></a>, <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>, <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>alpha::T1 = 0.05</code>: significance level, <code>alpha ∈ (0, 1)</code>.</li><li><code>solvers::Union{&lt;:AbstractDict, Nothing}</code>: optional JuMP-compatible solvers for exponential cone problems.</li></ul><p><strong>Behaviour</strong></p><ul><li><p>Requires solver capability for exponential cone problems.</p></li><li><p>When computing <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{EVaR, AbstractVector}"><code>calc_risk(::EVaR, ::AbstractVector)</code></a>:</p><ul><li>If <code>solvers</code> is <code>nothing</code>: uses <code>solvers</code> from <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>.</li><li>If <code>solvers</code> is provided: use the solvers.</li></ul></li></ul><p><strong>Validation</strong></p><ul><li>When setting <code>alpha</code> at construction or runtime, <code>alpha ∈ (0, 1)</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
evar = EVaR()

# Custom configuration with specific solver
evar = EVaR(; alpha = 0.025,  # 2.5 % significance level
            solvers = Dict(&quot;solver&quot; =&gt; my_solver))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L837-L878">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.RLVaR" href="#PortfolioOptimiser.RLVaR"><code>PortfolioOptimiser.RLVaR</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct RLVaR{T1 &lt;: Real, T2 &lt;: Real} &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Relativistic Value at Risk risk measure.</p><ul><li>It is a generalisation of the <a href="#PortfolioOptimiser.EVaR"><code>EVaR</code></a>.</li><li><span>$\mathrm{VaR}(\bm{X},\, \alpha) \leq \mathrm{CVaR}(\bm{X},\, \alpha) \leq \mathrm{EVaR}(\bm{X},\, \alpha) \leq \mathrm{RLVaR}(\bm{X},\, \alpha,\, \kappa) \leq \mathrm{WR}(\bm{X})$</span>.</li><li><span>$\lim\limits_{\kappa \to 0} \mathrm{RLVaR}(\bm{X},\, \alpha,\, \kappa) \approx \mathrm{EVaR}(\bm{X},\, \alpha)$</span></li><li><span>$\lim\limits_{\kappa \to 1} \mathrm{RLVaR}(\bm{X},\, \alpha,\, \kappa) \approx \mathrm{WR}(\bm{X})$</span></li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{RLVaR, AbstractVector}"><code>calc_risk(::RLVaR, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._RLVaR"><code>_RLVaR</code></a>, <a href="#PortfolioOptimiser.VaR"><code>VaR</code></a>, <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>, <a href="#PortfolioOptimiser.EVaR"><code>EVaR</code></a>, <a href="#PortfolioOptimiser.WR"><code>WR</code></a>, <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a>, <a href="#PortfolioOptimiser.DaR_r"><code>DaR_r</code></a>, <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>, <a href="#PortfolioOptimiser.CDaR_r"><code>CDaR_r</code></a>, <a href="#PortfolioOptimiser.EDaR"><code>EDaR</code></a>, <a href="#PortfolioOptimiser.EDaR_r"><code>EDaR_r</code></a>, <a href="#PortfolioOptimiser.RLDaR"><code>RLDaR</code></a>, <a href="#PortfolioOptimiser.RLDaR_r"><code>RLDaR_r</code></a>, <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>, <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>alpha::T1 = 0.05</code>: significance level, <code>alpha ∈ (0, 1)</code>.</li><li><code>kappa::T1 = 0.3</code>: significance level, <code>kappa ∈ (0, 1)</code>.</li><li><code>solvers::Union{&lt;:AbstractDict, Nothing}</code>: optional JuMP-compatible solvers for 3D power cone problems.</li></ul><p><strong>Behaviour</strong></p><ul><li><p>Requires solver capability for 3D power cone problems.</p></li><li><p>When computing <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{RLVaR, AbstractVector}"><code>calc_risk(::RLVaR, ::AbstractVector)</code></a>:</p><ul><li>If <code>solvers</code> is <code>nothing</code>: uses <code>solvers</code> from <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>.</li><li>If <code>solvers</code> is provided: use the solvers.</li></ul></li></ul><p><strong>Validation</strong></p><ul><li>When setting <code>alpha</code> at construction or runtime, <code>alpha ∈ (0, 1)</code>.</li><li>When setting <code>kappa</code> at construction or runtime, <code>kappa ∈ (0, 1)</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
rlvar = RLVaR()

# Custom configuration
rlvar = RLVaR(; alpha = 0.07,   # 7 % significance level
              kappa = 0.2,      # Deformation parameter
              solvers = Dict(&quot;solver&quot; =&gt; my_solver))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L896-L942">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.TG" href="#PortfolioOptimiser.TG"><code>PortfolioOptimiser.TG</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct TG{T1 &lt;: Real, T2 &lt;: Real, T3 &lt;: Integer} &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Defines the Tail Gini Difference risk measure.</p><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="#PortfolioOptimiser.OWASettings"><code>OWASettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{TG, AbstractVector}"><code>calc_risk(::TG, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._TG"><code>_TG</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>owa::OWASettings = OWASettings()</code>: OWA risk measure settings.</li><li><code>alpha_i::T1 = 0.0001</code>: start value of the significance level of CVaR losses, <code>0 &lt; alpha_i &lt; alpha &lt; 1</code>.</li><li><code>alpha::T2 = 0.05</code>: end value of the significance level of CVaR losses, <code>0 &lt; alpha_i &lt; alpha &lt; 1</code>.</li><li><code>a_sim::T3 = 100</code>: number of CVaRs to approximate the Tail Gini losses, <code>a_sim &gt; 0</code>.</li></ul><p><strong>Behaviour</strong></p><p><strong>Validation</strong></p><ul><li>When setting <code>alpha_i</code> at construction or runtime, <code>0 &lt; alpha_i &lt; alpha &lt; 1</code>.</li><li>When setting <code>alpha</code> at construction or runtime, <code>0 &lt; alpha_i &lt; alpha &lt; 1</code>.</li><li>When setting <code>a_sim</code> at construction or runtime, <code>a_sim &gt; 0</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
tg = TG()

# Use full risk measure formulation with custom parameters
tg = TG(; alpha = 0.07, owa = OWASettings(; approx = false))

# Use more p-norms and constrain risk without adding it to the problem&#39;s risk expression
tg = TG(; settings = RMSettings(; flag = false, ub = 0.1),
        owa = OWASettings(; p = Float64[1, 2, 4, 8, 16, 32, 64, 128]))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1503-L1541">source</a></section></article><h3 id="Drawdown-risk-measures"><a class="docs-heading-anchor" href="#Drawdown-risk-measures">Drawdown risk measures</a><a id="Drawdown-risk-measures-1"></a><a class="docs-heading-anchor-permalink" href="#Drawdown-risk-measures" title="Permalink"></a></h3><p>These measure the drops in portfolio value from local maxima to subsequent local minima.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.MDD" href="#PortfolioOptimiser.MDD"><code>PortfolioOptimiser.MDD</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct MDD &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Maximum Drawdown (Calmar ratio) risk measure for uncompounded cumulative returns.</p><ul><li>Measures the largest peak-to-trough decline.</li><li><span>$\mathrm{DaR}(\bm{X},\, \alpha) \leq \mathrm{CDaR}(\bm{X},\, \alpha) \leq \mathrm{EDaR}(\bm{X},\, \alpha) \leq \mathrm{RLDaR}(\bm{X},\, \alpha,\, \kappa) \leq \mathrm{MDD}(\bm{X})$</span>.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{MDD, AbstractVector}"><code>calc_risk(::MDD, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._MDD"><code>_MDD</code></a>, <a href="#PortfolioOptimiser.VaR"><code>VaR</code></a>, <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>, <a href="#PortfolioOptimiser.EVaR"><code>EVaR</code></a>, <a href="#PortfolioOptimiser.RLVaR"><code>RLVaR</code></a> <a href="#PortfolioOptimiser.WR"><code>WR</code></a>, <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a>, <a href="#PortfolioOptimiser.DaR_r"><code>DaR_r</code></a>, <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>, <a href="#PortfolioOptimiser.CDaR_r"><code>CDaR_r</code></a>, <a href="#PortfolioOptimiser.EDaR"><code>EDaR</code></a>, <a href="#PortfolioOptimiser.EDaR_r"><code>EDaR_r</code></a>, <a href="#PortfolioOptimiser.RLDaR"><code>RLDaR</code></a>, <a href="#PortfolioOptimiser.RLDaR_r"><code>RLDaR_r</code></a>, <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
mdd = MDD()

# Custom settings
mdd = MDD(; settings = RMSettings(; scale = 2.0))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L962-L987">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.ADD" href="#PortfolioOptimiser.ADD"><code>PortfolioOptimiser.ADD</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ADD &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Average Drawdown risk measure for uncompounded cumulative returns.</p><ul><li>Measures the average of all peak-to-trough declines.</li><li>Provides a more balanced view than the maximum drawdown <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{ADD, AbstractVector}"><code>calc_risk(::ADD, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._ADD"><code>_ADD</code></a>, <a href="#PortfolioOptimiser.ADD_r"><code>ADD_r</code></a>, <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
add = ADD()

# Custom settings
add = ADD(; settings = RMSettings(; scale = 1.5))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L995-L1020">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.UCI" href="#PortfolioOptimiser.UCI"><code>PortfolioOptimiser.UCI</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct UCI &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Ulcer Index risk measure for uncompounded cumulative returns.</p><ul><li>Penalizes larger drawdowns more than smaller ones.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{UCI, AbstractVector}"><code>calc_risk(::UCI, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._UCI"><code>_UCI</code></a>, <a href="#PortfolioOptimiser.UCI_r"><code>UCI_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
uci = UCI()

# Custom settings
uci = UCI(; settings = RMSettings(; scale = 1.5))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1076-L1100">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.CDaR" href="#PortfolioOptimiser.CDaR"><code>PortfolioOptimiser.CDaR</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct CDaR{T1 &lt;: Real} &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Conditional Drawdown at Risk risk measure for uncompounded cumulative returns.</p><ul><li>Measures the expected peak-to-trough loss in the worst <code>alpha %</code> of cases.</li><li><span>$\mathrm{DaR}(\bm{X},\, \alpha) \leq \mathrm{CDaR}(\bm{X},\, \alpha) \leq \mathrm{EDaR}(\bm{X},\, \alpha) \leq \mathrm{RLDaR}(\bm{X},\, \alpha,\, \kappa) \leq \mathrm{MDD}(\bm{X})$</span>.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{CDaR, AbstractVector}"><code>calc_risk(::CDaR, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._CDaR"><code>_CDaR</code></a>, <a href="#PortfolioOptimiser.VaR"><code>VaR</code></a>, <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>, <a href="#PortfolioOptimiser.EVaR"><code>EVaR</code></a>, <a href="#PortfolioOptimiser.RLVaR"><code>RLVaR</code></a> <a href="#PortfolioOptimiser.WR"><code>WR</code></a>, <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a>, <a href="#PortfolioOptimiser.DaR_r"><code>DaR_r</code></a>, <a href="#PortfolioOptimiser.CDaR_r"><code>CDaR_r</code></a>, <a href="#PortfolioOptimiser.EDaR"><code>EDaR</code></a>, <a href="#PortfolioOptimiser.EDaR_r"><code>EDaR_r</code></a>, <a href="#PortfolioOptimiser.RLDaR"><code>RLDaR</code></a>, <a href="#PortfolioOptimiser.RLDaR_r"><code>RLDaR_r</code></a>, <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>, <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>alpha::T1 = 0.05</code>: significance level, <code>alpha ∈ (0, 1)</code>.</li></ul><p><strong>Behaviour</strong></p><p><strong>Validation</strong></p><ul><li>When setting <code>alpha</code> at construction or runtime, <code>alpha ∈ (0, 1)</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
cdar = CDaR()

# Custom significance level
cdar = CDaR(; settings = RMSettings(; scale = 1.0), alpha = 0.01) # 1 % significance level</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1028-L1060">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.EDaR" href="#PortfolioOptimiser.EDaR"><code>PortfolioOptimiser.EDaR</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct EDaR{T1 &lt;: Real} &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Entropic Drawdown at Risk risk measure for uncompounded cumulative returns.</p><ul><li>It is the upper bound of the Chernoff inequality for the <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a> and <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>.</li><li><span>$\mathrm{DaR}(\bm{X},\, \alpha) \leq \mathrm{CDaR}(\bm{X},\, \alpha) \leq \mathrm{EDaR}(\bm{X},\, \alpha) \leq \mathrm{RLDaR}(\bm{X},\, \alpha,\, \kappa) \leq \mathrm{MDD}(\bm{X})$</span>.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{EDaR, AbstractVector}"><code>calc_risk(::EDaR, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._EDaR"><code>_EDaR</code></a>, <a href="#PortfolioOptimiser.VaR"><code>VaR</code></a>, <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>, <a href="#PortfolioOptimiser.EVaR"><code>EVaR</code></a>, <a href="#PortfolioOptimiser.RLVaR"><code>RLVaR</code></a> <a href="#PortfolioOptimiser.WR"><code>WR</code></a>, <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a>, <a href="#PortfolioOptimiser.DaR_r"><code>DaR_r</code></a>, <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>, <a href="#PortfolioOptimiser.CDaR_r"><code>CDaR_r</code></a>, <a href="#PortfolioOptimiser.EDaR_r"><code>EDaR_r</code></a>, <a href="#PortfolioOptimiser.RLDaR"><code>RLDaR</code></a>, <a href="#PortfolioOptimiser.RLDaR_r"><code>RLDaR_r</code></a>, <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>, <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>alpha::T1 = 0.05</code>: significance level, <code>alpha ∈ (0, 1)</code>.</li><li><code>solvers::Union{&lt;:AbstractDict, Nothing}</code>: optional JuMP-compatible solvers for exponential cone problems.</li></ul><p><strong>Behaviour</strong></p><ul><li><p>Requires solver capability for exponential cone problems.</p></li><li><p>When computing <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{EDaR, AbstractVector}"><code>calc_risk(::EDaR, ::AbstractVector)</code></a>:</p><ul><li>If <code>solvers</code> is <code>nothing</code>: uses <code>solvers</code> from <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>.</li><li>If <code>solvers</code> is provided: use the solvers.</li></ul></li></ul><p><strong>Validation</strong></p><ul><li>When setting <code>alpha</code> at construction or runtime, <code>alpha ∈ (0, 1)</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
edar = EDaR()

# Custom configuration with specific solver
edar = EDaR(; alpha = 0.025,  # 2.5 % significance level
            solvers = Dict(&quot;solver&quot; =&gt; my_solver))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1108-L1149">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.RLDaR" href="#PortfolioOptimiser.RLDaR"><code>PortfolioOptimiser.RLDaR</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct RLDaR{T1 &lt;: Real, T2 &lt;: Real} &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Relativistic Drawdown at Risk risk measure for uncompounded cumulative returns.</p><ul><li>It is a generalisation of the <a href="#PortfolioOptimiser.EDaR"><code>EDaR</code></a>.</li><li><span>$\mathrm{DaR}(\bm{X},\, \alpha) \leq \mathrm{CDaR}(\bm{X},\, \alpha) \leq \mathrm{EDaR}(\bm{X},\, \alpha) \leq \mathrm{RLDaR}(\bm{X},\, \alpha,\, \kappa) \leq \mathrm{MDD}(\bm{X})$</span>.</li><li><span>$\lim\limits_{\kappa \to 0} \mathrm{RLDaR}(\bm{X},\, \alpha,\, \kappa) \approx \mathrm{EDaR}(\bm{X},\, \alpha)$</span></li><li><span>$\lim\limits_{\kappa \to 1} \mathrm{RLDaR}(\bm{X},\, \alpha,\, \kappa) \approx \mathrm{MDD}(\bm{X})$</span></li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{RLDaR, AbstractVector}"><code>calc_risk(::RLDaR, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._RLDaR"><code>_RLDaR</code></a>, <a href="#PortfolioOptimiser.VaR"><code>VaR</code></a>, <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>, <a href="#PortfolioOptimiser.EVaR"><code>EVaR</code></a>, <a href="#PortfolioOptimiser.RLVaR"><code>RLVaR</code></a> <a href="#PortfolioOptimiser.WR"><code>WR</code></a>, <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a>, <a href="#PortfolioOptimiser.DaR_r"><code>DaR_r</code></a>, <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>, <a href="#PortfolioOptimiser.CDaR_r"><code>CDaR_r</code></a>, <a href="#PortfolioOptimiser.EDaR"><code>EDaR</code></a>, <a href="#PortfolioOptimiser.EDaR_r"><code>EDaR_r</code></a>, <a href="#PortfolioOptimiser.RLDaR_r"><code>RLDaR_r</code></a>, <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>, <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>alpha::T1 = 0.05</code>: significance level, <code>alpha ∈ (0, 1)</code>.</li><li><code>kappa::T1 = 0.3</code>: significance level, <code>kappa ∈ (0, 1)</code>.</li><li><code>solvers::Union{&lt;:AbstractDict, Nothing}</code>: optional JuMP-compatible solvers for 3D power cone problems.</li></ul><p><strong>Behaviour</strong></p><ul><li><p>Requires solver capability for 3D power cone problems.</p></li><li><p>When computing <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{RLDaR, AbstractVector}"><code>calc_risk(::RLDaR, ::AbstractVector)</code></a>:</p><ul><li>If <code>solvers</code> is <code>nothing</code>: uses <code>solvers</code> from <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>.</li><li>If <code>solvers</code> is provided: use the solvers.</li></ul></li></ul><p><strong>Validation</strong></p><ul><li>When setting <code>alpha</code> at construction or runtime, <code>alpha ∈ (0, 1)</code>.</li><li>When setting <code>kappa</code> at construction or runtime, <code>kappa ∈ (0, 1)</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
rldar = RLDaR()

# Custom configuration
rldar = RLDaR(; alpha = 0.05, # 5 % significance level
              kappa = 0.3,    # 30 % Deformation parameter
              solvers = Dict(&quot;solver&quot; =&gt; my_solver))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1167-L1213">source</a></section></article><h3 id="Linear-moments-(L-moments)"><a class="docs-heading-anchor" href="#Linear-moments-(L-moments)">Linear moments (L-moments)</a><a id="Linear-moments-(L-moments)-1"></a><a class="docs-heading-anchor-permalink" href="#Linear-moments-(L-moments)" title="Permalink"></a></h3><p>This is used to measure linear moments of the returns distribution.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.OWA" href="#PortfolioOptimiser.OWA"><code>PortfolioOptimiser.OWA</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct OWA &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Defines the generic Ordered Weight Array risk measure.</p><ul><li>Uses a vector of ordered weights generated by <a href="../../ParameterEstimation/OWA/#PortfolioOptimiser.owa_l_moment"><code>owa_l_moment</code></a> or <a href="../../ParameterEstimation/OWA/#PortfolioOptimiser.owa_l_moment_crm-Tuple{Integer}"><code>owa_l_moment_crm</code></a> for arbitrary L-moment optimisations.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="#PortfolioOptimiser.OWASettings"><code>OWASettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../../Optimisation/OptimisationRiskMeasures/#PortfolioOptimiser.set_rm-Tuple{Portfolio, SD, Union{RP, Trad}, Any}"><code>set_rm</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{OWA, AbstractVector}"><code>calc_risk(::OWA, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._OWA"><code>_OWA</code></a>, <a href="../../ParameterEstimation/OWA/#PortfolioOptimiser.owa_l_moment"><code>owa_l_moment</code></a>, <a href="../../ParameterEstimation/OWA/#PortfolioOptimiser.owa_l_moment_crm-Tuple{Integer}"><code>owa_l_moment_crm</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>owa::OWASettings = OWASettings()</code>: OWA risk measure settings.</li><li><code>w::Union{&lt;:AbstractWeights, Nothing} = nothing</code>: <code>T×1</code> ordered weight vector of arbitrary L-moments generated by <a href="../../ParameterEstimation/OWA/#PortfolioOptimiser.owa_l_moment"><code>owa_l_moment</code></a> or <a href="../../ParameterEstimation/OWA/#PortfolioOptimiser.owa_l_moment_crm-Tuple{Integer}"><code>owa_l_moment_crm</code></a>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
w = owa_l_moment_crm(10)
owa = OWA(; w = w)

# Use full risk measure formulation with custom parameters
owa = OWA(; w = w, owa = OWASettings(; approx = false))

# Use more p-norms and constrain risk without adding it to the problem&#39;s risk expression
owa = OWA(; w = w, settings = RMSettings(; flag = false, ub = 0.1),
          owa = OWASettings(; p = Float64[1, 2, 4, 8, 16, 32, 64, 128]))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1651-L1682">source</a></section></article><h2 id="Hierarchical-risk-measures"><a class="docs-heading-anchor" href="#Hierarchical-risk-measures">Hierarchical risk measures</a><a id="Hierarchical-risk-measures-1"></a><a class="docs-heading-anchor-permalink" href="#Hierarchical-risk-measures" title="Permalink"></a></h2><p>These risk measures are compatible with <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>. Different risk measures account for different aspects of the returns.</p><h3 id="Dispersion-hierarchical-risk-measures"><a class="docs-heading-anchor" href="#Dispersion-hierarchical-risk-measures">Dispersion hierarchical risk measures</a><a id="Dispersion-hierarchical-risk-measures-1"></a><a class="docs-heading-anchor-permalink" href="#Dispersion-hierarchical-risk-measures" title="Permalink"></a></h3><p>These measure the characteristics of the returns distribution.</p><h4 id="Full-dispersion-hierarchical-risk-measures"><a class="docs-heading-anchor" href="#Full-dispersion-hierarchical-risk-measures">Full dispersion hierarchical risk measures</a><a id="Full-dispersion-hierarchical-risk-measures-1"></a><a class="docs-heading-anchor-permalink" href="#Full-dispersion-hierarchical-risk-measures" title="Permalink"></a></h4><p>These measure how far the returns deviate from the mean in both the positive and negative directions.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.Variance" href="#PortfolioOptimiser.Variance"><code>PortfolioOptimiser.Variance</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct Variance{T1 &lt;: Union{&lt;:AbstractMatrix, Nothing}} &lt;: HCRiskMeasure</code></pre><p><strong>Description</strong></p><p>Defines the Variance risk measure.</p><p>See also: <a href="#PortfolioOptimiser.HCRMSettings"><code>HCRMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{Variance, AbstractVector}"><code>calc_risk(::Variance, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._Variance"><code>_Variance</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::HCRMSettings = HCRMSettings()</code>: hierarchical risk measure configuration settings.</li><li><code>sigma::Union{&lt;:AbstractMatrix, Nothing} = nothing</code>: optional covariance matrix.</li></ul><p><strong>Behaviour</strong></p><ul><li>If <code>sigma</code> is <code>nothing</code>: uses the covariance matrix <code>cov</code> from the <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a> (or [<code>Portfolio</code>] when used in <a href="../../Portfolio/PortfolioRisk/#PortfolioOptimiser.calc_risk-Tuple{PortfolioOptimiser.AbstractPortfolio}"><code>calc_risk</code></a>) instance.</li><li>If <code>sigma</code> provided: uses custom covariance matrix.</li></ul><p><strong>Validation</strong></p><ul><li>When setting <code>sigma</code> at construction or runtime, the matrix must be square (<code>N×N</code>).</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
variance = Variance()

# Custom settings
variance = Variance(; settings = HCRMSettings(; scale = 3))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1895-L1927">source</a></section></article><h4 id="Downside-dispersion-hierarchical-risk-measures"><a class="docs-heading-anchor" href="#Downside-dispersion-hierarchical-risk-measures">Downside dispersion hierarchical risk measures</a><a id="Downside-dispersion-hierarchical-risk-measures-1"></a><a class="docs-heading-anchor-permalink" href="#Downside-dispersion-hierarchical-risk-measures" title="Permalink"></a></h4><p>These measure how far the returns deviate from the mean in the negative direction.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.SVariance" href="#PortfolioOptimiser.SVariance"><code>PortfolioOptimiser.SVariance</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct SVariance{T1 &lt;: Real} &lt;: HCRiskMeasure</code></pre><p><strong>Description</strong></p><p>Defines the Semi Variance risk measure.</p><p>See also: <a href="#PortfolioOptimiser.HCRiskMeasure"><code>HCRiskMeasure</code></a>, <a href="#PortfolioOptimiser.HCRMSettings"><code>HCRMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{SVariance, AbstractVector}"><code>calc_risk(::SVariance, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._SVariance"><code>_SVariance</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::HCRMSettings = HCRMSettings()</code>: configuration settings for the risk measure.</li><li><code>target::T1 = 0.0</code>: minimum return threshold for downside classification.</li><li><code>w::Union{&lt;:AbstractWeights, Nothing} = nothing</code>: optional <code>T×1</code> vector of weights for expected return calculation.</li></ul><p><strong>Behaviour</strong></p><ul><li>If <code>w</code> is <code>nothing</code>: computes the unweighted mean portfolio return.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
svariance = SVariance()

# Custom configuration with specific target
w = eweights(1:100, 0.3)  # Exponential weights for computing the portfolio mean return
svariance = SVariance(; target = 0.02,  # 2 % return target
                      settings = HCRMSettings(; scale = 2.0), w = w)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1948-L1978">source</a></section></article><h3 id="Downside-hierarchical-risk-measures"><a class="docs-heading-anchor" href="#Downside-hierarchical-risk-measures">Downside hierarchical risk measures</a><a id="Downside-hierarchical-risk-measures-1"></a><a class="docs-heading-anchor-permalink" href="#Downside-hierarchical-risk-measures" title="Permalink"></a></h3><p>These measure different aspects of the tail (negative side) of the returns distribution.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.VaR" href="#PortfolioOptimiser.VaR"><code>PortfolioOptimiser.VaR</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct VaR{T1 &lt;: Real} &lt;: HCRiskMeasure</code></pre><p><strong>Description</strong></p><p>Defines the Value at Risk risk measure.</p><ul><li>Measures lower bound of the losses in the worst <code>alpha %</code> of cases.</li><li><span>$\mathrm{VaR}(\bm{X},\, \alpha) \leq \mathrm{CVaR}(\bm{X},\, \alpha) \leq \mathrm{EVaR}(\bm{X},\, \alpha) \leq \mathrm{RLVaR}(\bm{X},\, \alpha,\, \kappa) \leq \mathrm{WR}(\bm{X})$</span>.</li></ul><p>See also: <a href="#PortfolioOptimiser.HCRiskMeasure"><code>HCRiskMeasure</code></a>, <a href="#PortfolioOptimiser.HCRMSettings"><code>HCRMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{VaR, AbstractVector}"><code>calc_risk(::VaR, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._VaR"><code>_VaR</code></a>, <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>, <a href="#PortfolioOptimiser.EVaR"><code>EVaR</code></a>, <a href="#PortfolioOptimiser.RLVaR"><code>RLVaR</code></a> <a href="#PortfolioOptimiser.WR"><code>WR</code></a>, <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a>, <a href="#PortfolioOptimiser.DaR_r"><code>DaR_r</code></a>, <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>, <a href="#PortfolioOptimiser.CDaR_r"><code>CDaR_r</code></a>, <a href="#PortfolioOptimiser.EDaR"><code>EDaR</code></a>, <a href="#PortfolioOptimiser.EDaR_r"><code>EDaR_r</code></a>, <a href="#PortfolioOptimiser.RLDaR"><code>RLDaR</code></a>, <a href="#PortfolioOptimiser.RLDaR_r"><code>RLDaR_r</code></a>, <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>, <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::HCRMSettings = HCRMSettings()</code>: configuration settings for the risk measure.</li><li><code>alpha::T1 = 0.05</code>: significance level, <code>alpha ∈ (0, 1)</code>.</li></ul><p><strong>Behaviour</strong></p><p><strong>Validation</strong></p><ul><li>When setting <code>alpha</code> at construction or runtime, <code>alpha ∈ (0, 1)</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
var = VaR()

# Custom significance level
var = VaR(; settings = HCRMSettings(; scale = 1.0), alpha = 0.01)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L1990-L2022">source</a></section></article><h3 id="Drawdown-hierarchical-risk-measures"><a class="docs-heading-anchor" href="#Drawdown-hierarchical-risk-measures">Drawdown hierarchical risk measures</a><a id="Drawdown-hierarchical-risk-measures-1"></a><a class="docs-heading-anchor-permalink" href="#Drawdown-hierarchical-risk-measures" title="Permalink"></a></h3><p>These measure the drops in portfolio value from local maxima to subsequent local minima.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.DaR" href="#PortfolioOptimiser.DaR"><code>PortfolioOptimiser.DaR</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct DaR{T1 &lt;: Real} &lt;: HCRiskMeasure</code></pre><p><strong>Description</strong></p><p>Defines the Drawdown at Risk for uncompounded cumulative returns risk measure.</p><ul><li>Measures the lower bound of the peak-to-trough loss in the worst <code>alpha %</code> of cases.</li><li><span>$\mathrm{DaR}(\bm{X},\, \alpha) \leq \mathrm{CDaR}(\bm{X},\, \alpha) \leq \mathrm{EDaR}(\bm{X},\, \alpha) \leq \mathrm{RLDaR}(\bm{X},\, \alpha,\, \kappa) \leq \mathrm{MDD}(\bm{X})$</span>.</li></ul><p>See also: <a href="#PortfolioOptimiser.HCRiskMeasure"><code>HCRiskMeasure</code></a>, <a href="#PortfolioOptimiser.HCRMSettings"><code>HCRMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{DaR, AbstractVector}"><code>calc_risk(::DaR, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._DaR"><code>_DaR</code></a>, <a href="#PortfolioOptimiser.VaR"><code>VaR</code></a>, <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>, <a href="#PortfolioOptimiser.EVaR"><code>EVaR</code></a>, <a href="#PortfolioOptimiser.RLVaR"><code>RLVaR</code></a> <a href="#PortfolioOptimiser.WR"><code>WR</code></a>, <a href="#PortfolioOptimiser.DaR_r"><code>DaR_r</code></a>, <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>, <a href="#PortfolioOptimiser.CDaR_r"><code>CDaR_r</code></a>, <a href="#PortfolioOptimiser.EDaR"><code>EDaR</code></a>, <a href="#PortfolioOptimiser.EDaR_r"><code>EDaR_r</code></a>, <a href="#PortfolioOptimiser.RLDaR"><code>RLDaR</code></a>, <a href="#PortfolioOptimiser.RLDaR_r"><code>RLDaR_r</code></a>, <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>, <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::HCRMSettings = HCRMSettings()</code>: configuration settings for the risk measure.</li><li><code>alpha::T1 = 0.05</code>: significance level, <code>alpha ∈ (0, 1)</code>.</li></ul><p><strong>Behaviour</strong></p><p><strong>Validation</strong></p><ul><li>When setting <code>alpha</code> at construction or runtime, <code>alpha ∈ (0, 1)</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
dar = DaR()

# Custom significance level
dar = DaR(; settings = HCRMSettings(; scale = 1.0), alpha = 0.01) # 1 % significance level</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L2038-L2070">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.DaR_r" href="#PortfolioOptimiser.DaR_r"><code>PortfolioOptimiser.DaR_r</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct DaR_r{T1 &lt;: Real} &lt;: HCRiskMeasure</code></pre><p><strong>Description</strong></p><p>Defines the Drawdown at Risk for compounded cumulative returns risk measure.</p><ul><li>Measures the lower bound of the peak-to-trough loss in the worst <code>alpha %</code> of cases.</li><li><span>$\mathrm{DaR_{r}}(\bm{X},\, \alpha) \leq \mathrm{CDaR_{r}}(\bm{X},\, \alpha) \leq \mathrm{EDaR_{r}}(\bm{X},\, \alpha) \leq \mathrm{RLDaR_{r}}(\bm{X},\, \alpha,\, \kappa) \leq \mathrm{MDD_{r}}(\bm{X})$</span>.</li></ul><p>See also: <a href="#PortfolioOptimiser.HCRiskMeasure"><code>HCRiskMeasure</code></a>, <a href="#PortfolioOptimiser.HCRMSettings"><code>HCRMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{DaR_r, AbstractVector}"><code>calc_risk(::DaR_r, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._DaR_r"><code>_DaR_r</code></a>, <a href="#PortfolioOptimiser.VaR"><code>VaR</code></a>, <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>, <a href="#PortfolioOptimiser.EVaR"><code>EVaR</code></a>, <a href="#PortfolioOptimiser.RLVaR"><code>RLVaR</code></a> <a href="#PortfolioOptimiser.WR"><code>WR</code></a>, <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a>, <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>, <a href="#PortfolioOptimiser.CDaR_r"><code>CDaR_r</code></a>, <a href="#PortfolioOptimiser.EDaR"><code>EDaR</code></a>, <a href="#PortfolioOptimiser.EDaR_r"><code>EDaR_r</code></a>, <a href="#PortfolioOptimiser.RLDaR"><code>RLDaR</code></a>, <a href="#PortfolioOptimiser.RLDaR_r"><code>RLDaR_r</code></a>, <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>, <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::HCRMSettings = HCRMSettings()</code>: configuration settings for the risk measure.</li><li><code>alpha::T1 = 0.05</code>: significance level, <code>alpha ∈ (0, 1)</code>.</li></ul><p><strong>Behaviour</strong></p><p><strong>Validation</strong></p><ul><li>When setting <code>alpha</code> at construction or runtime, <code>alpha ∈ (0, 1)</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
dar = DaR_r()

# Custom significance level
dar = DaR_r(; settings = HCRMSettings(; scale = 1.0), alpha = 0.01) # 1 % significance level</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L2086-L2118">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.MDD_r" href="#PortfolioOptimiser.MDD_r"><code>PortfolioOptimiser.MDD_r</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct MDD_r &lt;: HCRiskMeasure</code></pre><p><strong>Description</strong></p><p>Maximum Drawdown (Calmar ratio) risk measure for compounded cumulative returns.</p><ul><li>Measures the largest peak-to-trough decline.</li><li><span>$\mathrm{DaR_{r}}(\bm{X},\, \alpha) \leq \mathrm{CDaR_{r}}(\bm{X},\, \alpha) \leq \mathrm{EDaR_{r}}(\bm{X},\, \alpha) \leq \mathrm{RLDaR_{r}}(\bm{X},\, \alpha,\, \kappa) \leq \mathrm{MDD_{r}}(\bm{X})$</span>.</li></ul><p>See also: <a href="#PortfolioOptimiser.HCRiskMeasure"><code>HCRiskMeasure</code></a>, <a href="#PortfolioOptimiser.HCRMSettings"><code>HCRMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{MDD_r, AbstractVector}"><code>calc_risk(::MDD_r, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._MDD_r"><code>_MDD_r</code></a>, <a href="#PortfolioOptimiser.VaR"><code>VaR</code></a>, <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>, <a href="#PortfolioOptimiser.EVaR"><code>EVaR</code></a>, <a href="#PortfolioOptimiser.RLVaR"><code>RLVaR</code></a> <a href="#PortfolioOptimiser.WR"><code>WR</code></a>, <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a>, <a href="#PortfolioOptimiser.DaR_r"><code>DaR_r</code></a>, <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>, <a href="#PortfolioOptimiser.CDaR_r"><code>CDaR_r</code></a>, <a href="#PortfolioOptimiser.EDaR"><code>EDaR</code></a>, <a href="#PortfolioOptimiser.EDaR_r"><code>EDaR_r</code></a>, <a href="#PortfolioOptimiser.RLDaR"><code>RLDaR</code></a>, <a href="#PortfolioOptimiser.RLDaR_r"><code>RLDaR_r</code></a>, <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::HCRMSettings = HCRMSettings()</code>: configuration settings for the risk measure.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
mdd = MDD_r()

# Custom significance level
mdd = MDD_r(; settings = HCRMSettings(; scale = 1.0), alpha = 0.01) # 1 % significance level</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L2134-L2159">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.ADD_r" href="#PortfolioOptimiser.ADD_r"><code>PortfolioOptimiser.ADD_r</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct ADD_r &lt;: HCRiskMeasure</code></pre><p><strong>Description</strong></p><p>Average Drawdown risk measure for uncompounded cumulative returns.</p><ul><li>Measures the average of all peak-to-trough declines.</li><li>Provides a more balanced view than the maximum drawdown <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{ADD_r, AbstractVector}"><code>calc_risk(::ADD_r, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._ADD_r"><code>_ADD_r</code></a>, <a href="#PortfolioOptimiser.ADD"><code>ADD</code></a>, <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::HCRMSettings = HCRMSettings()</code>: configuration settings for the risk measure.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
add = ADD_r()

# Custom significance level
add = ADD_r(; settings = HCRMSettings(; scale = 1.0), alpha = 0.01) # 1 % significance level</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L2167-L2192">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.UCI_r" href="#PortfolioOptimiser.UCI_r"><code>PortfolioOptimiser.UCI_r</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct UCI_r{T1 &lt;: Real} &lt;: HCRiskMeasure</code></pre><p><strong>Description</strong></p><p>Ulcer Index risk measure for compounded cumulative returns.</p><ul><li>Penalizes larger drawdowns more than smaller ones.</li></ul><p>See also: <a href="#PortfolioOptimiser.HCRiskMeasure"><code>HCRiskMeasure</code></a>, <a href="#PortfolioOptimiser.HCRMSettings"><code>HCRMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{UCI_r, AbstractVector}"><code>calc_risk(::UCI_r, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._UCI_r"><code>_UCI_r</code></a>, <a href="#PortfolioOptimiser.UCI"><code>UCI</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::HCRMSettings = HCRMSettings()</code>: configuration settings for the risk measure.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
uci_r = UCI_r()

# Custom settings
uci_r = UCI_r(; settings = HCRMSettings(; scale = 1.5))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L2248-L2272">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.CDaR_r" href="#PortfolioOptimiser.CDaR_r"><code>PortfolioOptimiser.CDaR_r</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct CDaR_r{T1 &lt;: Real} &lt;: HCRiskMeasure</code></pre><p><strong>Description</strong></p><p>Conditional Drawdown at Risk risk measure for compounded cumulative returns.</p><ul><li>Measures the expected peak-to-trough loss in the worst <code>alpha %</code> of cases.</li><li><span>$\mathrm{DaR_{r}}(\bm{X},\, \alpha) \leq \mathrm{CDaR_{r}}(\bm{X},\, \alpha) \leq \mathrm{EDaR_{r}}(\bm{X},\, \alpha) \leq \mathrm{RLDaR_{r}}(\bm{X},\, \alpha,\, \kappa) \leq \mathrm{MDD_{r}}(\bm{X})$</span>.</li></ul><p>See also: <a href="#PortfolioOptimiser.HCRiskMeasure"><code>HCRiskMeasure</code></a>, <a href="#PortfolioOptimiser.HCRMSettings"><code>HCRMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{CDaR_r, AbstractVector}"><code>calc_risk(::CDaR_r, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._CDaR_r"><code>_CDaR_r</code></a>, <a href="#PortfolioOptimiser.VaR"><code>VaR</code></a>, <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>, <a href="#PortfolioOptimiser.EVaR"><code>EVaR</code></a>, <a href="#PortfolioOptimiser.RLVaR"><code>RLVaR</code></a> <a href="#PortfolioOptimiser.WR"><code>WR</code></a>, <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a>, <a href="#PortfolioOptimiser.DaR_r"><code>DaR_r</code></a>, <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>, <a href="#PortfolioOptimiser.EDaR"><code>EDaR</code></a>, <a href="#PortfolioOptimiser.EDaR_r"><code>EDaR_r</code></a>, <a href="#PortfolioOptimiser.RLDaR"><code>RLDaR</code></a>, <a href="#PortfolioOptimiser.RLDaR_r"><code>RLDaR_r</code></a>, <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>, <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::HCRMSettings = HCRMSettings()</code>: configuration settings for the risk measure.</li><li><code>alpha::T1 = 0.05</code>: significance level, <code>alpha ∈ (0, 1)</code>.</li></ul><p><strong>Behaviour</strong></p><p><strong>Validation</strong></p><ul><li>When setting <code>alpha</code> at construction or runtime, <code>alpha ∈ (0, 1)</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
cdar_r = CDaR_r()

# Custom significance level
cdar_r = CDaR_r(; settings = HCRMSettings(; scale = 1.0), alpha = 0.01) # 1 % significance level</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L2200-L2232">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.EDaR_r" href="#PortfolioOptimiser.EDaR_r"><code>PortfolioOptimiser.EDaR_r</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct EDaR_r{T1 &lt;: Real} &lt;: HCRiskMeasure</code></pre><p><strong>Description</strong></p><p>Entropic Drawdown at Risk risk measure for compounded cumulative returns.</p><ul><li>It is the upper bound of the Chernoff inequality for the <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a> and <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>.</li><li><span>$\mathrm{DaR_{r}}(\bm{X},\, \alpha) \leq \mathrm{CDaR_{r}}(\bm{X},\, \alpha) \leq \mathrm{EDaR_{r}}(\bm{X},\, \alpha) \leq \mathrm{RLDaR_{r}}(\bm{X},\, \alpha,\, \kappa) \leq \mathrm{MDD_{r}}(\bm{X})$</span>.</li></ul><p>See also: <a href="#PortfolioOptimiser.HCRiskMeasure"><code>HCRiskMeasure</code></a>, <a href="#PortfolioOptimiser.HCRMSettings"><code>HCRMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{EDaR_r, AbstractVector}"><code>calc_risk(::EDaR_r, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._EDaR_r"><code>_EDaR_r</code></a>, <a href="#PortfolioOptimiser.VaR"><code>VaR</code></a>, <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>, <a href="#PortfolioOptimiser.EVaR"><code>EVaR</code></a>, <a href="#PortfolioOptimiser.RLVaR"><code>RLVaR</code></a> <a href="#PortfolioOptimiser.WR"><code>WR</code></a>, <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a>, <a href="#PortfolioOptimiser.DaR_r"><code>DaR_r</code></a>, <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>, <a href="#PortfolioOptimiser.CDaR_r"><code>CDaR_r</code></a>, <a href="#PortfolioOptimiser.EDaR_r"><code>EDaR_r</code></a>, <a href="#PortfolioOptimiser.RLDaR"><code>RLDaR</code></a>, <a href="#PortfolioOptimiser.RLDaR_r"><code>RLDaR_r</code></a>, <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>, <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::HCRMSettings = HCRMSettings()</code>: configuration settings for the risk measure.</li><li><code>alpha::T1 = 0.05</code>: significance level, <code>alpha ∈ (0, 1)</code>.</li><li><code>solvers::Union{&lt;:AbstractDict, Nothing}</code>: optional JuMP-compatible solvers for exponential cone problems.</li></ul><p><strong>Behaviour</strong></p><ul><li><p>Requires solver capability for exponential cone problems.</p></li><li><p>When computing <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{EDaR_r, AbstractVector}"><code>calc_risk(::EDaR_r, ::AbstractVector)</code></a>:</p><ul><li>If <code>solvers</code> is <code>nothing</code>: uses <code>solvers</code> from <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>.</li><li>If <code>solvers</code> is provided: use the solvers.</li></ul></li></ul><p><strong>Validation</strong></p><ul><li>When setting <code>alpha</code> at construction or runtime, <code>alpha ∈ (0, 1)</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
edar_r = EDaR_r()

# Custom configuration with specific solver
edar_r = EDaR_r(; alpha = 0.025,  # 2.5 % significance level
                solvers = Dict(&quot;solver&quot; =&gt; my_solver))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L2280-L2321">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.RLDaR_r" href="#PortfolioOptimiser.RLDaR_r"><code>PortfolioOptimiser.RLDaR_r</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct RLDaR_r{T1 &lt;: Real} &lt;: RiskMeasure</code></pre><p><strong>Description</strong></p><p>Relativistic Drawdown at Risk risk measure for compounded cumulative returns.</p><ul><li>It is a generalisation of the <a href="#PortfolioOptimiser.EDaR"><code>EDaR</code></a>.</li><li><span>$\mathrm{DaR_{r}}(\bm{X},\, \alpha) \leq \mathrm{CDaR_{r}}(\bm{X},\, \alpha) \leq \mathrm{EDaR_{r}}(\bm{X},\, \alpha) \leq \mathrm{RLDaR_{r}}(\bm{X},\, \alpha,\, \kappa) \leq \mathrm{MDD_{r}}(\bm{X})$</span>.</li><li><span>$\lim\limits_{\kappa \to 0} \mathrm{RLDaR_{r}}(\bm{X},\, \alpha,\, \kappa) \approx \mathrm{EDaR_{r}}(\bm{X},\, \alpha)$</span></li><li><span>$\lim\limits_{\kappa \to 1} \mathrm{RLDaR_{r}}(\bm{X},\, \alpha,\, \kappa) \approx \mathrm{MDD_{r}}(\bm{X})$</span></li></ul><p>See also: <a href="#PortfolioOptimiser.RiskMeasure"><code>RiskMeasure</code></a>, <a href="#PortfolioOptimiser.RMSettings"><code>RMSettings</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>, <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>, <a href="../../Optimisation/OptimisationKinds/#PortfolioOptimiser.optimise!-Tuple{Portfolio}"><code>optimise!</code></a>, <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{RLDaR_r, AbstractVector}"><code>calc_risk(::RLDaR_r, ::AbstractVector)</code></a>, <a href="../RiskValue/#PortfolioOptimiser._RLDaR_r"><code>_RLDaR_r</code></a>, <a href="#PortfolioOptimiser.VaR"><code>VaR</code></a>, <a href="#PortfolioOptimiser.CVaR"><code>CVaR</code></a>, <a href="#PortfolioOptimiser.EVaR"><code>EVaR</code></a>, <a href="#PortfolioOptimiser.RLVaR"><code>RLVaR</code></a> <a href="#PortfolioOptimiser.WR"><code>WR</code></a>, <a href="#PortfolioOptimiser.DaR"><code>DaR</code></a>, <a href="#PortfolioOptimiser.DaR_r"><code>DaR_r</code></a>, <a href="#PortfolioOptimiser.CDaR"><code>CDaR</code></a>, <a href="#PortfolioOptimiser.CDaR_r"><code>CDaR_r</code></a>, <a href="#PortfolioOptimiser.EDaR"><code>EDaR</code></a>, <a href="#PortfolioOptimiser.EDaR_r"><code>EDaR_r</code></a>, <a href="#PortfolioOptimiser.RLDaR_r"><code>RLDaR_r</code></a>, <a href="#PortfolioOptimiser.MDD"><code>MDD</code></a>, <a href="#PortfolioOptimiser.MDD_r"><code>MDD_r</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li><li><code>alpha::T1 = 0.05</code>: significance level, <code>alpha ∈ (0, 1)</code>.</li><li><code>kappa::T1 = 0.3</code>: significance level, <code>kappa ∈ (0, 1)</code>.</li><li><code>solvers::Union{&lt;:AbstractDict, Nothing}</code>: optional JuMP-compatible solvers for 3D power cone problems.</li></ul><p><strong>Behaviour</strong></p><ul><li><p>Requires solver capability for 3D power cone problems.</p></li><li><p>When computing <a href="../RiskValue/#PortfolioOptimiser.calc_risk-Tuple{RLDaR_r, AbstractVector}"><code>calc_risk(::RLDaR_r, ::AbstractVector)</code></a>:</p><ul><li>If <code>solvers</code> is <code>nothing</code>: uses <code>solvers</code> from <a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.Portfolio"><code>Portfolio</code></a>/<a href="../../Portfolio/PortfolioTypes/#PortfolioOptimiser.HCPortfolio"><code>HCPortfolio</code></a>.</li><li>If <code>solvers</code> is provided: use the solvers.</li></ul></li></ul><p><strong>Validation</strong></p><ul><li>When setting <code>alpha</code> at construction or runtime, <code>alpha ∈ (0, 1)</code>.</li><li>When setting <code>kappa</code> at construction or runtime, <code>kappa ∈ (0, 1)</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
rldar = RLDaR()

# Custom configuration
rldar = RLDaR(; alpha = 0.05, # 5 % significance level
              kappa = 0.3,    # 30 % Deformation parameter
              solvers = Dict(&quot;solver&quot; =&gt; my_solver))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L2339-L2385">source</a></section></article><h3 id="Equal-risk-contribution"><a class="docs-heading-anchor" href="#Equal-risk-contribution">Equal risk contribution</a><a id="Equal-risk-contribution-1"></a><a class="docs-heading-anchor-permalink" href="#Equal-risk-contribution" title="Permalink"></a></h3><p>This assumes the risk is equally distributed among the variables.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimiser.Equal" href="#PortfolioOptimiser.Equal"><code>PortfolioOptimiser.Equal</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Equal &lt;: HCRiskMeasure</code></pre><p><strong>Description</strong></p><p>Equal risk measure.</p><ul><li>Risk is allocated evenly among a group of assets.</li></ul><p><strong>Fields</strong></p><ul><li><code>settings::RMSettings = RMSettings()</code>: configuration settings for the risk measure.</li></ul><p><strong>Examples</strong></p><pre><code class="language- hljs"># Default settings
equal = Equal()

# Custom configuration
equal = Equal(; settings = HCRMSettings(; scale = 3))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/105947c99675ef6e64de8cd91e6f2518d1db6378/src/RiskMeasures/Types/RiskMeasureTypes.jl#L2405-L2427">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../examples/8_relaxed_risk_parity_variance_portfolios/">« -</a><a class="docs-footer-nextpage" href="../RiskValue/">Risk value »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Sunday 10 November 2024 14:14">Sunday 10 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
