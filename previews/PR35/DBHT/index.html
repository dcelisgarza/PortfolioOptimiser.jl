<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>DBHT · PortfolioOptimiser.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://dcelisgarza.github.io/PortfolioOptimiser.jl/DBHT/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="PortfolioOptimiser.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">PortfolioOptimiser.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../Examples/">Examples</a></li><li class="is-active"><a class="tocitem" href>DBHT</a><ul class="internal"><li><a class="tocitem" href="#Public-API"><span>Public API</span></a></li><li><a class="tocitem" href="#Private-API"><span>Private API</span></a></li></ul></li><li><a class="tocitem" href="../Risk_measures/">Risk Measures</a></li><li><a class="tocitem" href="../Constraint_functions/">Constraint Functions</a></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../Definitions/">Definitions</a></li><li><a class="tocitem" href="../Types/">Types</a></li><li><a class="tocitem" href="../Asset_statistics/">Asset Statistics</a></li><li><a class="tocitem" href="../OWA/">OWA</a></li></ul></li><li><a class="tocitem" href="../idx/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>DBHT</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>DBHT</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/master/docs/src/DBHT.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Direct-Bubble-Hierarchical-Tree-Clustering-(DBHT)"><a class="docs-heading-anchor" href="#Direct-Bubble-Hierarchical-Tree-Clustering-(DBHT)">Direct Bubble Hierarchical Tree Clustering (DBHT)</a><a id="Direct-Bubble-Hierarchical-Tree-Clustering-(DBHT)-1"></a><a class="docs-heading-anchor-permalink" href="#Direct-Bubble-Hierarchical-Tree-Clustering-(DBHT)" title="Permalink"></a></h1><p>Based on the Matlab implementation <a href="https://www.mathworks.com/matlabcentral/fileexchange/46750-dbht"><code>DBHT</code></a>.</p><h2 id="Public-API"><a class="docs-heading-anchor" href="#Public-API">Public API</a><a id="Public-API-1"></a><a class="docs-heading-anchor-permalink" href="#Public-API" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.DBHTs" href="#PortfolioOptimiser.DBHTs"><code>PortfolioOptimiser.DBHTs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">DBHTs(
    D::AbstractMatrix{&lt;:Number},
    S::AbstractMatrix{&lt;:Number};
    branchorder::Symbol = :optimal,
    method::Symbol = :Unique,
)</code></pre><p>Perform Direct Bubble Hierarchical Tree clustering, a deterministic clustering algorithm <sup class="footnote-reference"><a id="citeref-DBHTs" href="#footnote-DBHTs">[DBHTs]</a></sup>. This version uses a graph-theoretic filtering technique called Triangulated Maximally Filtered Graph (TMFG).</p><p><strong>Arguments</strong></p><ul><li><code>D</code>: <code>N×N</code> dissimilarity matrix, e.g. a distance matrix.</li><li><code>S</code>: <code>N×N</code> non-negative similarity matrix, e.g. a correlation matrix + 1, <code>S = 2 .- D .^2 / 2</code>; or another choice could be <code>S = exp.(-D).</code></li><li><code>branchorder</code>: is a parameter for ordering the final dendrogram&#39;s branches. The choices are defined by <a href="../Definitions/#PortfolioOptimiser.BranchOrderTypes"><code>BranchOrderTypes</code></a>.</li><li><code>method</code>: method for finding the root of a Direct Bubble Hierarchical Clustering Tree in case there is more than one candidate <a href="#PortfolioOptimiser.DBHTRootMethods"><code>DBHTRootMethods</code></a>.</li></ul><p><strong>Outputs</strong></p><ul><li><code>T8</code>: <code>N×1</code> cluster membership vector.</li><li><code>Rpm</code>: <code>N×N</code> adjacency matrix of the Planar Maximally Filtered Graph (PMFG).</li><li><code>Adjv</code>: Bubble cluster membership matrix from <a href="#PortfolioOptimiser.BubbleCluster8s"><code>BubbleCluster8s</code></a>.</li><li><code>Dpm</code>: <code>N×N</code> shortest path length matrix of the PMFG.</li><li><code>Mv</code>: <code>N×Nb</code> bubble membership matrix. <code>Mv[n, bi] = 1</code> means vertex <code>n</code> is a vertex of bubble <code>bi</code>.</li><li><code>Z</code>: <code>(N-1)×3</code> linkage matrix in the same format as the output from Matlab.</li><li><code>Z_hclust</code>: Z matrix in <a href="https://juliastats.org/Clustering.jl/stable/hclust.html#Clustering.Hclust">Clustering.Hclust</a> format.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L1000-L1026">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.PMFG_T2s" href="#PortfolioOptimiser.PMFG_T2s"><code>PortfolioOptimiser.PMFG_T2s</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">PMFG_T2s(W::AbstractMatrix{&lt;:Number}, nargout::Integer = 3)</code></pre><p>Constructs a Triangulated Maximally Filtered Graph (TMFG) starting from a tetrahedron and recursively inserting vertices inside existing triangles (T2 move) in order to approximate a Maximal Planar Graph with the largest total weight, aka Planar Maximally Filtered Graph (PMFG). All weights are non-negative <sup class="footnote-reference"><a id="citeref-PMFG" href="#footnote-PMFG">[PMFG]</a></sup>.</p><p><strong>Arguments</strong></p><ul><li><code>W</code>: <code>N×N</code> matrix of non-negative weights.</li><li><code>nargout</code>: number of output arguments, the same arguments are always returne, this only controls whether some arguments are empty or not.</li></ul><p><strong>Outputs</strong></p><ul><li><code>A</code>: adjacency matrix of the PMFG with weights.</li><li><code>tri</code>: list of triangles (triangular faces).</li><li><code>clique3</code>: list of 3-cliques taht are not triangular faces, all 3-cliques are given by <code>[tri; clique3]</code>.</li><li><code>cliques</code>: list of all 4-cliques, if <code>nargout &lt;= 3</code>, this will be returned as an empty array.</li><li><code>cliqueTree</code>: 4-cliques tree structure (adjacency matrix), if <code>nargout &lt;= 4</code>, it is returned as an empty array.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L1-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.JLogo" href="#PortfolioOptimiser.JLogo"><code>PortfolioOptimiser.JLogo</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">JLogo(sigma, separators, cliques)</code></pre><p>Compute the sparse inverse covariance from a clique tree and separators <sup class="footnote-reference"><a id="citeref-JLogo" href="#footnote-JLogo">[JLogo]</a></sup>.</p><p><strong>Inputs</strong></p><ul><li><code>sigma</code>: <code>N×N</code> covariance matrix.</li><li><code>separators</code>: list of 3-cliques taht are not triangular faces.</li><li><code>cliques</code>: list of all 4-cliques.</li></ul><p><strong>Outputs</strong></p><ul><li><code>jlogo</code>: JLogo covariance matrix.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L1099-L1113">source</a></section></article><h2 id="Private-API"><a class="docs-heading-anchor" href="#Private-API">Private API</a><a id="Private-API-1"></a><a class="docs-heading-anchor-permalink" href="#Private-API" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.distance_wei" href="#PortfolioOptimiser.distance_wei"><code>PortfolioOptimiser.distance_wei</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">distance_wei(L::AbstractMatrix{&lt;:Number})</code></pre><p>The distance matrix contains lengths of shortest paths between all node pairs. An entry <code>[u, v]</code> represents the length of the shortest path from node <code>u</code> to node <code>v</code>. The average shortest path length is the characteristic path length of the network. The function uses Dijkstra&#39;s algorithm.</p><p><strong>Inputs</strong></p><ul><li><code>L</code>: Directed/undirected connection-length matrix. <ul><li>Lengths between disconnected nodes are set to <code>Inf</code>.</li><li>Lengths on the main diagonal are set to 0.</li></ul></li></ul><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The input matrix must be a connection-length matrix typically obtained via a mapping from weight to length. For instance, in a weighted correlation network, higher correlations are more naturally interpreted as shorter distances, and the input matrix should therefore be some inverse of the connectivity matrix, i.e. a distance matrix.</p><p>The number of edges in the shortest weighted path may in general exceed the number of edges in the shortest binary paths (i.e. the shortest weighted paths computed on the binarised connectivity matrix), because the shortest weighted paths have the minimal weighted distance, not necessarily the minimal number of edges.</p></div></div><p><strong>Outputs</strong></p><ul><li><code>D</code>: distance (shortest weighted path) matrix.</li><li><code>B</code>: number of edged in the shortest weigthed path matrix.</li></ul><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Based on a Matlab implementation by:</p><ul><li>Mika Rubinov, UNSW/U Cambridge, 2007-2012.</li><li>Rick Betzel and Andrea Avena, IU, 2012</li></ul><p>Modification history:</p><ul><li>2007: original (MR)</li><li>2009-08-04: min() function vectorized (MR)</li><li>2012: added number of edges in shortest path as additional output (RB/AA)</li><li>2013: variable names changed for consistency with other functions (MR)</li></ul></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L122-L149">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.clique3" href="#PortfolioOptimiser.clique3"><code>PortfolioOptimiser.clique3</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">clique3(A::AbstractMatrix{&lt;:Number})</code></pre><p>Computes the list of 3-cliques.</p><p><strong>Inputs</strong></p><ul><li><code>A</code>: <code>N×N</code> adjacency matrix of a Maximal Planar Graph (MPG).</li></ul><p><strong>Outputs</strong></p><ul><li><code>K3</code>: vector of vectors with the corresponding indices of candidate cliques.</li><li><code>E</code>: matrix with non-zero indices and entries of candidate cliques.</li><li><code>CliqList</code>: <code>Nc×3</code> matrix. Each row vector lists the three vertices consisting of a 3-clique in the MPG.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L190-L201">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.breadth" href="#PortfolioOptimiser.breadth"><code>PortfolioOptimiser.breadth</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">breadth(CIJ::AbstractMatrix{&lt;:Number}, source::Integer)</code></pre><p>Breadth-first search.</p><p><strong>Inputs</strong></p><ul><li><code>CIJ</code>: binary (directed/undirected) connection matrix.</li><li><code>source</code>: source vertex.</li></ul><p><strong>Outputs</strong></p><ul><li><code>distance</code>: distance between <code>source</code> and i&#39;th vertex (0 for source vertex).</li><li><code>branch</code>: vertex that precedes i in the breadth-first search tree (-1 for source vertex).</li></ul><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Breadth-first search tree does not contain all paths (or all shortest paths), but allows the determination of at least one path with minimum distace. The entire graph is explored, starting from source vertex <code>source</code>.</p><p>Original written by: Olaf Sporns, Indiana University, 2002/2007/2008</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L249-L265">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.FindDisjoint" href="#PortfolioOptimiser.FindDisjoint"><code>PortfolioOptimiser.FindDisjoint</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">FindDisjoint(Adj::AbstractMatrix{&lt;:Number}, Cliq::AbstractVector{&lt;:Number})</code></pre><p>Finds disjointed cliques in adjacency matrix.</p><p><strong>Inputs</strong></p><ul><li><code>Adj</code>: <code>N×N</code> adjacency matrix.</li><li><code>Cliq</code>: <code>3×1</code> vector of 3-cliques.</li></ul><p><strong>Outputs</strong></p><ul><li><code>T</code>: <code>N×1</code> vector containing the adjacency number of each node.</li><li><code>IndxNot</code>: <code>N×1</code> vector of nodes with no adjacencies.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L304-L315">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.BuildHierarchy" href="#PortfolioOptimiser.BuildHierarchy"><code>PortfolioOptimiser.BuildHierarchy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">BuildHierarchy(M::AbstractMatrix{&lt;:Number})</code></pre><p>Builds the predicted hierarchy.</p><p><strong>Inputs</strong></p><ul><li><code>M</code>: <code>N×Nc</code> matrix of nodes and 3-cliques.</li></ul><p><strong>Outputs</strong></p><ul><li><code>Pred</code>: <code>Nc×1</code> vector of predicted hierarchies.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L337-L346">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.AdjCliq" href="#PortfolioOptimiser.AdjCliq"><code>PortfolioOptimiser.AdjCliq</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">AdjCliq(
    A::AbstractMatrix{&lt;:Number},
    CliqList::AbstractMatrix{&lt;:Number},
    CliqRoot::AbstractVector{&lt;:Number},
)</code></pre><p>Find adjacent clique to the root candidates.</p><p><strong>Inputs</strong></p><ul><li><code>A</code>: <code>N×N</code> adjacency matrix.</li><li><code>CliqList</code>: <code>Nc×3</code> matrix. Each row vector lists the three vertices consisting of a 3-clique in the MPG.</li><li><code>CliqRoot</code>: <code>Nc×1</code> vector of root cliques.</li></ul><p><strong>Outputs</strong></p><ul><li><code>Adj</code>: <code>Nc×Nc</code> adjacency matrix of the cliques with the root cliques.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L367-L382">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.BubbleHierarchy" href="#PortfolioOptimiser.BubbleHierarchy"><code>PortfolioOptimiser.BubbleHierarchy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">BubbleHierarchy(Pred::AbstractVector{&lt;:Number}, Sb::AbstractVector{&lt;:Number})</code></pre><p>Build the bubble hierarchy.</p><p><strong>Inputs</strong></p><ul><li><code>Pred</code>: <code>Nc×1</code> vector of predicted hierarchies.</li><li><code>Sb</code>: <code>Nc×1</code> vector. <code>Sb[n] = 1</code> indicates 3-clique <code>n</code> is separating.</li></ul><p><strong>Outputs</strong></p><ul><li><code>Mb</code>: <code>Nc×Nb</code> bubble membership matrix for 3-cliques. <code>Mb[n, bi] = 1</code> indicated that 3-clique <code>n</code> belongs to bubble <code>bi</code>.</li><li><code>H2</code>: <code>Nb×Nb</code> adjacency matrix for the bubble hierarchical tree where <code>Nb</code> is the number of bubbles.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L406-L417">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.DBHTRootMethods" href="#PortfolioOptimiser.DBHTRootMethods"><code>PortfolioOptimiser.DBHTRootMethods</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">DBHTRootMethods = (:Unique, :Equal)</code></pre><p>Methods for finding the root of a Direct Bubble Hierarchical Clustering Tree in <a href="#PortfolioOptimiser.DBHTs"><code>DBHTs</code></a>, in case there is more than one candidate.</p><ul><li><code>:Unique</code>: create a unique root.</li><li><code>:Equal</code>: the root is created from the candidate&#39;s adjacency tree. </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L463-L470">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.CliqHierarchyTree2s" href="#PortfolioOptimiser.CliqHierarchyTree2s"><code>PortfolioOptimiser.CliqHierarchyTree2s</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">CliqHierarchyTree2s(Apm::AbstractMatrix{&lt;:Number}, method::Symbol = :Unique)</code></pre><p>Looks for 3-cliques of a Maximal Planar Graph (MPG), then construct a hierarchy of the cliques with the definition of &quot;inside&quot; a clique being a subgraph of smaller size when the entire graph is made disjoint by removing the clique <sup class="footnote-reference"><a id="citeref-NHPG" href="#footnote-NHPG">[NHPG]</a></sup>.</p><p><strong>Inputs</strong></p><ul><li><code>Apm</code>: <code>N×N</code> adjacency matrix of an MPG.</li><li><code>method</code>: method for finding the root of the graph <a href="#PortfolioOptimiser.DBHTRootMethods"><code>DBHTRootMethods</code></a>. Uses Voronoi tesselation between tiling triangles.</li></ul><p><strong>Outputs</strong></p><ul><li><code>H1</code>: <code>Nc×Nc</code> adjacency matrix for 3-clique hierarchical tree where <code>Nc</code> is the number of 3-cliques.</li><li><code>H2</code>: <code>Nb×Nb</code> adjacency matrix for the bubble hierarchical tree where <code>Nb</code> is the number of bubbles.</li><li><code>Mb</code>: <code>Nc×Nb</code> bubble membership matrix for 3-cliques. <code>Mb[n, bi] = 1</code> indicated that 3-clique <code>n</code> belongs to bubble <code>bi</code>.</li><li><code>CliqList</code>: <code>Nc×3</code> matrix. Each row vector lists the three vertices consisting of a 3-clique in the MPG.</li><li><code>Sb</code>: <code>Nc×1</code> vector. <code>Sb[n] = 1</code> indicates 3-clique <code>n</code> is separating.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L473-L489">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.DirectHb" href="#PortfolioOptimiser.DirectHb"><code>PortfolioOptimiser.DirectHb</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">DirectHb(
    Rpm::AbstractMatrix{&lt;:Number},
    Hb::AbstractMatrix{&lt;:Number},
    Mb::AbstractMatrix{&lt;:Number},
    Mv::AbstractMatrix{&lt;:Number},
    CliqList::AbstractMatrix{&lt;:Number},
)</code></pre><p>Computes the directions on each separating 3-clique of a Maximal Planar Graph (MPH), hence computes the Directed Bubble Hierarchy Tree (DBHT).</p><p><strong>Inputs</strong></p><ul><li><code>Rpm</code>: <code>N×N</code> sparse weighted adjacency matrix of the Planar Maximally Filtered Graph (MPFG).</li><li><code>Hb</code>: Undirected bubble tree of the PMFG.</li><li><code>Mb</code>: <code>Nc×Nb</code> bubble membership matrix for 3-cliques. <code>Mb[n, bi] = 1</code> indicated that 3-clique <code>n</code> belongs to bubble <code>bi</code>.</li><li><code>Mv</code>: <code>N×Nb</code> bubble membership matrix for vertices.</li><li><code>CliqList</code>: <code>Nc×3</code> matrix. Each row vector lists the three vertices consisting of a 3-clique in the MPG.</li></ul><p><strong>Outputs</strong></p><ul><li><code>Hc</code>: <code>Nb×Nb</code> unweighted directed adjacency matrix of the DBHT. <code>Hc[i, j]=1</code> indicates a directed edge from bubble <code>i</code> to bubble <code>j</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L557-L576">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.BubbleCluster8s" href="#PortfolioOptimiser.BubbleCluster8s"><code>PortfolioOptimiser.BubbleCluster8s</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">BubbleCluster8s(Rpm, Dpm, Hb, Mb, Mv, CliqList)</code></pre><p>Obtains non-discrete and discrete clusterings from the bubble topology of the Planar Maximally Filtered Graph (PMFG).</p><p><strong>Inputs</strong></p><ul><li><code>Rpm</code>: <code>N×N</code> sparse weighted adjacency matrix of the PMFG.</li><li><code>Dpm</code>: <code>N×N</code> shortest path lengths matrix of the PMFG.</li><li><code>Hb</code>: undirected bubble tree of the PMFG.</li><li><code>Mb</code>: <code>Nc×Nb</code> bubble membership matrix for 3-cliques. <code>Mb[n, bi] = 1</code> indicated that 3-clique <code>n</code> belongs to bubble <code>bi</code>.</li><li><code>Mv</code>: <code>N×Nb</code> bubble membership matrix for vertices.</li><li><code>CliqList</code>: <code>Nc×3</code> matrix. Each row vector lists the three vertices consisting of a 3-clique in the MPG.</li></ul><p><strong>Outputs</strong></p><ul><li><code>Adjv</code>: <code>N×Nk</code> cluster membership matrix for vertices for non-discrete clustering via the bubble topology. <code>Adjv[n, k] = 1</code> indicates cluster membership of vertex <code>n</code> to the <code>k</code>&#39;th non-discrete cluster.</li><li><code>Tc</code>: <code>N×1</code> cluster membership vector. <code>Tc[n] = k</code> indicates cluster membership of vertex <code>n</code> to the <code>k</code>&#39;th discrete cluster.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L630-L645">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.BubbleMember" href="#PortfolioOptimiser.BubbleMember"><code>PortfolioOptimiser.BubbleMember</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">BubbleMember(
    Rpm::AbstractMatrix{&lt;:Number},
    Mv::AbstractMatrix{&lt;:Number},
    Mc::AbstractMatrix{&lt;:Number},
)</code></pre><p>Assigns each vertex in the to a specific bubble.</p><p><strong>Inputs</strong></p><ul><li><code>Rpm</code>: <code>N×N</code> sparse weighted adjacency matrix of the PMFG.</li><li><code>Mv</code>: <code>N×Nb</code> bubble membership matrix. <code>Mv[n, bi] = 1</code> means vertex <code>n</code> is a vertex of bubble <code>bi</code>.</li><li><code>Mc</code>: Matrix of the bubbles which coincide with the cluster.</li></ul><p><strong>Outputs</strong></p><ul><li><code>Mvv</code>: Matrix of the vertices belonging to the bubble.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L706-L721">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.DendroConstruct" href="#PortfolioOptimiser.DendroConstruct"><code>PortfolioOptimiser.DendroConstruct</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">DendroConstruct(
    Zi::AbstractMatrix{&lt;:Number},
    LabelVec1::AbstractVector{&lt;:Number},
    LabelVec2::AbstractVector{&lt;:Number},
    LinkageDist::Union{&lt;:Number, AbstractVector{&lt;:Number}},
)</code></pre><p>Construct the linkage matrix by continuially adding rows to the matrix.</p><p><strong>Inputs</strong></p><ul><li><code>Zi</code>: Linkage matrix at iteration <code>i</code> in the same format as the output from Matlab.</li><li><code>LabelVec1</code>: label vector for the vertices in the bubble for the previous valid iteration.</li><li><code>LabelVec2</code>: label vector for the vertices in the bubble for the trial iteration.</li></ul><p><strong>Outputs</strong></p><ul><li><code>Z</code>: Linkage matrix at iteration <code>i + 1</code> in the same format as the output from Matlab.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L746-L762">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.LinkageFunction" href="#PortfolioOptimiser.LinkageFunction"><code>PortfolioOptimiser.LinkageFunction</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">LinkageFunction(d::AbstractMatrix{&lt;:Number}, labelvec::AbstractVector{&lt;:Number})</code></pre><p>Looks for the pair of clusters with the best linkage.</p><p><strong>Inputs</strong></p><ul><li><code>d</code>: <code>Nv×Nv</code> distance matrix for a list of vertices assigned to a bubble.</li><li><code>labelvec</code>: label vector for the vertices in the bubble.</li></ul><p><strong>Outputs</strong></p><ul><li><code>PairLink</code>: pair of links with the best linkage.</li><li><code>dvu</code>: value of the best linkage.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L774-L785">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser._build_link_and_dendro" href="#PortfolioOptimiser._build_link_and_dendro"><code>PortfolioOptimiser._build_link_and_dendro</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">_build_link_and_dendro(
    rg::AbstractRange,
    dpm::AbstractMatrix{&lt;:Number},
    LabelVec::AbstractVector{&lt;:Number},
    LabelVec1::AbstractVector{&lt;:Number},
    LabelVec2::AbstractVector{&lt;:Number},
    V::AbstractVector{&lt;:Number},
    nc::Number,
    Z::AbstractMatrix{&lt;:Number},
)</code></pre><p>Computes iterates over the vertices to construct the linkage matrix iteration by iteration.</p><p><strong>Inputs</strong></p><ul><li><code>rg</code>: range of indices of the vertices in a bubble.</li><li><code>dpm</code>: <code>Nv×Nv</code> distance matrix for a list of vertices assigned to a bubble.</li><li><code>LabelVec</code>: vector labels of all vertices.</li><li><code>LabelVec1</code>: label vector for the vertices in the bubble for the previous valid iteration.</li><li><code>LabelVec2</code>: label vector for the vertices in the bubble for the trial iteration.</li></ul><p><strong>Outputs</strong></p><ul><li><code>Z</code>: updated linkage matrix in the same format as the output from Matlab.</li><li><code>nc</code>: updated inverse of the linkage distance.</li><li><code>LabelVec1</code>: updated <code>LabelVec1</code> for the next iteration.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L809-L833">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.HierarchyConstruct4s" href="#PortfolioOptimiser.HierarchyConstruct4s"><code>PortfolioOptimiser.HierarchyConstruct4s</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">HierarchyConstruct4s(
    Rpm::AbstractMatrix{&lt;:Number},
    Dpm::AbstractMatrix{&lt;:Number},
    Tc::AbstractVector{&lt;:Number},
    Mv::AbstractMatrix{&lt;:Number},
)</code></pre><p>Constructs the intra- and inter-cluster hierarchy by utilizing Bubble Hierarchy structure of a Maximal Planar graph, in this a Planar Maximally Filtered Graph (PMFG). </p><p><strong>Inputs</strong></p><ul><li><code>Rpm</code>: <code>N×N</code> sparse weighted adjacency matrix of the PMFG.</li><li><code>Dpm</code>: <code>N×N</code> shortest path lengths matrix of the PMFG.</li><li><code>Tc</code>: <code>N×1</code> cluster membership vector. <code>Tc[n] = k</code> indicates cluster membership of vertex <code>n</code> to the <code>k</code>&#39;th discrete cluster.</li><li><code>Mv</code>: <code>N×Nb</code> bubble membership matrix. <code>Mv[n, bi] = 1</code> means vertex <code>n</code> is a vertex of bubble <code>bi</code>.</li></ul><p><strong>Outputs</strong></p><ul><li><code>Z</code>: <code>(N-1)×3</code> linkage matrix in the same format as the output from Matlab.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L856-L873">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PortfolioOptimiser.turn_into_Hclust_merges" href="#PortfolioOptimiser.turn_into_Hclust_merges"><code>PortfolioOptimiser.turn_into_Hclust_merges</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">turn_into_Hclust_merges(Z::AbstractMatrix{&lt;:Number})</code></pre><p>Turns a Matlab-style linkage matrix to a useable format for <a href="https://juliastats.org/Clustering.jl/stable/hclust.html#Clustering.Hclust"><code>Hclust</code></a>.</p><p><strong>Inputs</strong></p><ul><li><code>Z</code>: Matlab-style linkage matrix.</li></ul><p><strong>Outputs</strong></p><ul><li><code>Z</code>: Hclust-style linkage matrix.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimiser.jl/blob/84b2bb1dd7329207bd69819ae2329423787bb531/src/DBHTs.jl#L951-L960">source</a></section></article><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-DBHTs"><a class="tag is-link" href="#citeref-DBHTs">DBHTs</a><a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0031929">Song, Won-Min, T. Di Matteo, and Tomaso Aste. &quot;Hierarchical information clustering by means of topologically embedded graphs.&quot; PloS one 7.3 (2012): e31929</a>.</li><li class="footnote" id="footnote-PMFG"><a class="tag is-link" href="#citeref-PMFG">PMFG</a><a href="https://academic.oup.com/comnet/article-abstract/5/2/161/2555365">Guido Previde Massara, T. Di Matteo, Tomaso Aste, Network Filtering for Big Data: Triangulated Maximally Filtered Graph, Journal of Complex Networks, Volume 5, Issue 2, June 2017, Pages 161–178, https://doi.org/10.1093/comnet/cnw015</a>.</li><li class="footnote" id="footnote-JLogo"><a class="tag is-link" href="#citeref-JLogo">JLogo</a><a href="https://journals.aps.org/pre/abstract/10.1103/PhysRevE.94.062306">Barfuss, W., Massara, G. P., Di Matteo, T., &amp; Aste, T. (2016). Parsimonious modeling with information filtering networks. Physical Review E, 94(6), 062306.</a></li><li class="footnote" id="footnote-NHPG"><a class="tag is-link" href="#citeref-NHPG">NHPG</a><a href="https://www.sciencedirect.com/science/article/pii/S0166218X11002794">Song, W. M., Di Matteo, T., &amp; Aste, T. (2011). Nested hierarchies in planar graphs. Discrete Applied Mathematics, 159(17), 2135-2146.</a></li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Examples/">« Examples</a><a class="docs-footer-nextpage" href="../Risk_measures/">Risk Measures »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.17 on <span class="colophon-date" title="Saturday 25 November 2023 02:50">Saturday 25 November 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
